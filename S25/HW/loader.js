!function(){var t={844:function(t,e,n){"use strict";n.d(e,{Rf:function(){return o},DM:function(){return s},en:function(){return a},jH:function(){return l},Cf:function(){return c},Db:function(){return d},EG:function(){return u},l4:function(){return h},JY:function(){return p}});var r=n(422),i={};function o(){return(0,r.K)()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function s(){var t=o(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function a(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?{host:e[4],path:e[5],protocol:e[2],relative:e[5]+(e[6]||"")+(e[8]||"")}:{}}function l(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function c(t){var e=o();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),i}function d(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function u(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}function h(){try{return document.location.href}catch(t){return""}}function p(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}},422:function(t,e,n){"use strict";function r(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}n.d(e,{K:function(){return r},l:function(){return i}})},170:function(t,e,n){"use strict";n.d(e,{yW:function(){return c}});var r=n(844),i=n(422);t=n.hmd(t);var o,s={nowSeconds:function(){return Date.now()/1e3}},a=(0,i.K)()?function(){try{return(0,i.l)(t,"perf_hooks").performance}catch(t){return}}():function(){var t=(0,r.Rf)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),l=void 0===a?s:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},c=s.nowSeconds.bind(s);l.nowSeconds.bind(l),(o=(0,r.Rf)().performance)&&(o.timeOrigin||o.timing&&o.timing.navigationStart||Date.now())},889:function(t,e,n){t.exports=n(397).default},397:function(t,e,n){"use strict";e.default=f;var r,i=(r=n(367))&&r.__esModule?r:{default:r},o="axios-retry";function s(t){return!t.response&&!!t.code&&"ECONNABORTED"!==t.code&&(0,i.default)(t)}var a=["get","head","options"],l=a.concat(["put","delete"]);function c(t){return"ECONNABORTED"!==t.code&&(!t.response||t.response.status>=500&&t.response.status<=599)}function d(t){return!!t.config&&c(t)&&-1!==l.indexOf(t.config.method)}function u(t){return s(t)||d(t)}function h(){return 0}function p(t){var e=t[o]||{};return e.retryCount=e.retryCount||0,t[o]=e,e}function f(t,e){t.interceptors.request.use((function(t){return p(t).lastRequestTime=Date.now(),t})),t.interceptors.response.use(null,(function(n){var r=n.config;if(!r)return Promise.reject(n);var i=function(t,e){return Object.assign({},e,t[o])}(r,e),s=i.retries,a=void 0===s?3:s,l=i.retryCondition,c=void 0===l?u:l,d=i.retryDelay,f=void 0===d?h:d,g=i.shouldResetTimeout,m=void 0!==g&&g,_=p(r);if(c(n)&&_.retryCount<a){_.retryCount+=1;var v=f(_.retryCount,n);if(function(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}(t,r),!m&&r.timeout&&_.lastRequestTime){var y=Date.now()-_.lastRequestTime;r.timeout=Math.max(r.timeout-y-v,1)}return r.transformRequest=[function(t){return t}],new Promise((function(e){return setTimeout((function(){return e(t(r))}),v)}))}return Promise.reject(n)}))}f.isNetworkError=s,f.isSafeRequestError=function(t){return!!t.config&&c(t)&&-1!==a.indexOf(t.config.method)},f.isIdempotentRequestError=d,f.isNetworkOrIdempotentRequestError=u,f.exponentialDelay=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=100*Math.pow(2,t),n=.2*e*Math.random();return e+n},f.isRetryableError=c},669:function(t,e,n){t.exports=n(609)},448:function(t,e,n){"use strict";var r=n(867),i=n(26),o=n(372),s=n(327),a=n(97),l=n(109),c=n(985),d=n(61);t.exports=function(t){return new Promise((function(e,n){var u=t.data,h=t.headers;r.isFormData(u)&&delete h["Content-Type"];var p=new XMLHttpRequest;t.auth&&(h.Authorization="Basic "+btoa((t.auth.username||"")+":"+(t.auth.password?unescape(encodeURIComponent(t.auth.password)):"")));var f=a(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),s(f,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null;i(e,n,{data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:t,request:p}),p=null}},p.onabort=function(){p&&(n(d("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(d("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(d(e,t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=(t.withCredentials||c(f))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;g&&(h[t.xsrfHeaderName]=g)}if("setRequestHeader"in p&&r.forEach(h,(function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),n(t),p=null)})),u||(u=null),p.send(u)}))}},609:function(t,e,n){"use strict";var r=n(867),i=n(849),o=n(321),s=n(185);function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var l=a(n(655));l.Axios=o,l.create=function(t){return a(s(l.defaults,t))},l.Cancel=n(263),l.CancelToken=n(972),l.isCancel=n(502),l.all=function(t){return Promise.all(t)},l.spread=n(713),l.isAxiosError=n(268),t.exports=l,t.exports.default=l},263:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},972:function(t,e,n){"use strict";var r=n(263);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},502:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:function(t,e,n){"use strict";var r=n(867),i=n(327),o=n(782),s=n(572),a=n(185);function l(t){this.defaults=t,this.interceptors={request:new o,response:new o}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method=t.method?t.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(a(r||{},{method:t,url:e,data:n}))}})),t.exports=l},782:function(t,e,n){"use strict";var r=n(867);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},97:function(t,e,n){"use strict";var r=n(793),i=n(303);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},61:function(t,e,n){"use strict";var r=n(481);t.exports=function(t,e,n,i,o){return r(Error(t),e,n,i,o)}},572:function(t,e,n){"use strict";var r=n(867),i=n(527),o=n(502),s=n(655);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:function(t){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},185:function(t,e,n){"use strict";var r=n(867);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function c(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=l(void 0,t[i])):n[i]=l(t[i],e[i])}r.forEach(i,(function(t){r.isUndefined(e[t])||(n[t]=l(void 0,e[t]))})),r.forEach(o,c),r.forEach(s,(function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=l(void 0,t[i])):n[i]=l(void 0,e[i])})),r.forEach(a,(function(r){r in e?n[r]=l(t[r],e[r]):r in t&&(n[r]=l(void 0,t[r]))}));var d=i.concat(o).concat(s).concat(a),u=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===d.indexOf(t)}));return r.forEach(u,c),n}},26:function(t,e,n){"use strict";var r=n(61);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},527:function(t,e,n){"use strict";var r=n(867);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},655:function(t,e,n){"use strict";var r=n(867),i=n(16),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,l={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(a=n(448)),a),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),""+t):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){l.headers[t]=r.merge(o)})),t.exports=l},849:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},327:function(t,e,n){"use strict";var r=n(867);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=""+e;else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},303:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},372:function(t,e,n){"use strict";var r=n(867);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},268:function(t){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},985:function(t,e,n){"use strict";var r=n(867);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},16:function(t,e,n){"use strict";var r=n(867);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},109:function(t,e,n){"use strict";var r=n(867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},713:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},867:function(t,e,n){"use strict";var r=n(849),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===i.call(t)}function d(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function t(){var e={};function n(n,r){e[r]=l(e[r])&&l(n)?t(e[r],n):l(n)?t({},n):o(n)?n.slice():n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return e},extend:function(t,e,n){return d(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},367:function(t){"use strict";var e=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE","EHOSTUNREACH","EAI_AGAIN"],n=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];t.exports=function(t){return!t||!t.code||-1!==e.indexOf(t.code)||-1===n.indexOf(t.code)}},591:function(t,e,n){"use strict";const{Deflate:r,deflate:i,deflateRaw:o,gzip:s}=n(555),{Inflate:a,inflate:l,inflateRaw:c,ungzip:d}=n(843),u=n(619);t.exports.Deflate=r,t.exports.deflate=i,t.exports.deflateRaw=o,t.exports.gzip=s,t.exports.Inflate=a,t.exports.inflate=l,t.exports.inflateRaw=c,t.exports.ungzip=d,t.exports.constants=u},555:function(t,e,n){"use strict";const r=n(405),i=n(236),o=n(373),s=n(898),a=n(292),l=Object.prototype.toString,{Z_NO_FLUSH:c,Z_SYNC_FLUSH:d,Z_FULL_FLUSH:u,Z_FINISH:h,Z_OK:p,Z_STREAM_END:f,Z_DEFAULT_COMPRESSION:g,Z_DEFAULT_STRATEGY:m,Z_DEFLATED:_}=n(619);function v(t){this.options=i.assign({level:g,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:m},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==p)throw Error(s[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=r.deflateSetDictionary(this.strm,t),n!==p)throw Error(s[n]);this._dict_set=!0}}function y(t,e){const n=new v(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}v.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let s,a;if(this.ended)return!1;for(a=e===~~e?e:!0===e?h:c,n.input="string"==typeof t?o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?new Uint8Array(t):t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(a===d||a===u)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(s=r.deflate(n,a),s===f)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=r.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===p;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},v.prototype.onData=function(t){this.chunks.push(t)},v.prototype.onEnd=function(t){t===p&&(this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Deflate=v,t.exports.deflate=y,t.exports.deflateRaw=function(t,e){return(e=e||{}).raw=!0,y(t,e)},t.exports.gzip=function(t,e){return(e=e||{}).gzip=!0,y(t,e)},t.exports.constants=n(619)},843:function(t,e,n){"use strict";const r=n(948),i=n(236),o=n(373),s=n(898),a=n(292),l=n(401),c=Object.prototype.toString,{Z_NO_FLUSH:d,Z_FINISH:u,Z_OK:h,Z_STREAM_END:p,Z_NEED_DICT:f,Z_STREAM_ERROR:g,Z_DATA_ERROR:m,Z_MEM_ERROR:_}=n(619);function v(t){this.options=i.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;let n=r.inflateInit2(this.strm,e.windowBits);if(n!==h)throw Error(s[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary),n!==h)))throw Error(s[n])}function y(t,e){const n=new v(e);if(n.push(t),n.err)throw n.msg||s[n.err];return n.result}v.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,l,v;if(this.ended)return!1;for(l=e===~~e?e:!0===e?u:d,n.input="[object ArrayBuffer]"===c.call(t)?new Uint8Array(t):t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=r.inflate(n,l),a===f&&s&&(a=r.inflateSetDictionary(n,s),a===h?a=r.inflate(n,l):a===m&&(a=f));n.avail_in>0&&a===p&&n.state.wrap>0&&0!==t[n.next_in];)r.inflateReset(n),a=r.inflate(n,l);switch(a){case g:case m:case f:case _:return this.onEnd(a),this.ended=!0,!1}if(v=n.avail_out,n.next_out&&(0===n.avail_out||a===p))if("string"===this.options.to){let t=o.utf8border(n.output,n.next_out),e=n.next_out-t,r=o.buf2string(n.output,t);n.next_out=e,n.avail_out=i-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==h||0!==v){if(a===p)return a=r.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},v.prototype.onData=function(t){this.chunks.push(t)},v.prototype.onEnd=function(t){t===h&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Inflate=v,t.exports.inflate=y,t.exports.inflateRaw=function(t,e){return(e=e||{}).raw=!0,y(t,e)},t.exports.ungzip=y,t.exports.constants=n(619)},236:function(t){"use strict";const e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);t.exports.assign=function(t){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const r=n.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const n in r)e(r,n)&&(t[n]=r[n])}}return t},t.exports.flattenChunks=t=>{let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,r=0,i=t.length;e<i;e++){let i=t[e];n.set(i,r),r+=i.length}return n}},373:function(t){"use strict";let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){e=!1}const n=new Uint8Array(256);for(let t=0;t<256;t++)n[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;n[254]=n[254]=1,t.exports.string2buf=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},t.exports.buf2string=(t,r)=>{const i=r||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,r));let o,s;const a=Array(2*i);for(s=0,o=0;o<i;){let e=t[o++];if(e<128){a[s++]=e;continue}let r=n[e];if(r>4)a[s++]=65533,o+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&o<i;)e=e<<6|63&t[o++],r--;r>1?a[s++]=65533:e<65536?a[s++]=e:(e-=65536,a[s++]=55296|e>>10&1023,a[s++]=56320|1023&e)}}return((t,n)=>{if(n<65534&&t.subarray&&e)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));let r="";for(let e=0;e<n;e++)r+=String.fromCharCode(t[e]);return r})(a,s)},t.exports.utf8border=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+n[t[r]]>e?r:e}},69:function(t){"use strict";t.exports=(t,e,n,r)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+e[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},619:function(t){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},869:function(t){"use strict";const e=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());t.exports=(t,n,r,i)=>{const o=e,s=i+r;t^=-1;for(let e=i;e<s;e++)t=t>>>8^o[255&(t^n[e])];return-1^t}},405:function(t,e,n){"use strict";const{_tr_init:r,_tr_stored_block:i,_tr_flush_block:o,_tr_tally:s,_tr_align:a}=n(342),l=n(69),c=n(869),d=n(898),{Z_NO_FLUSH:u,Z_PARTIAL_FLUSH:h,Z_FULL_FLUSH:p,Z_FINISH:f,Z_BLOCK:g,Z_OK:m,Z_STREAM_END:_,Z_STREAM_ERROR:v,Z_DATA_ERROR:y,Z_BUF_ERROR:w,Z_DEFAULT_COMPRESSION:b,Z_FILTERED:x,Z_HUFFMAN_ONLY:E,Z_RLE:k,Z_FIXED:S,Z_DEFAULT_STRATEGY:T,Z_UNKNOWN:C,Z_DEFLATED:R}=n(619),I=258,A=262,O=103,L=113,N=666,D=(t,e)=>(t.msg=d[e],e),U=t=>(t<<1)-(t>4?9:0),j=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let $=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const W=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},P=(t,e)=>{o(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,W(t.strm)},B=(t,e)=>{t.pending_buf[t.pending++]=e},M=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},z=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=l(t.adler,e,i,n):2===t.state.wrap&&(t.adler=c(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},F=(t,e)=>{let n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-A?t.strstart-(t.w_size-A):0,c=t.window,d=t.w_mask,u=t.prev,h=t.strstart+I;let p=c[o+s-1],f=c[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,c[n+s]===f&&c[n+s-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(r=I-(h-o),o=h-I,r>s){if(t.match_start=e,s=r,r>=a)break;p=c[o+s-1],f=c[o+s]}}}while((e=u[e&d])>l&&0!=--i);return s<=t.lookahead?s:t.lookahead},H=t=>{const e=t.w_size;let n,r,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-A)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,r=t.hash_size,n=r;do{i=t.head[--n],t.head[n]=i>=e?i-e:0}while(--r);r=e,n=r;do{i=t.prev[--n],t.prev[n]=i>=e?i-e:0}while(--r);o+=e}if(0===t.strm.avail_in)break;if(r=z(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=$(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=$(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<A&&0!==t.strm.avail_in)},q=(t,e)=>{let n,r;for(;;){if(t.lookahead<A){if(H(t),t.lookahead<A&&e===u)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=$(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-A&&(t.match_length=F(t,n)),t.match_length>=3)if(r=s(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=$(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=$(t,t.ins_h,t.window[t.strstart+1]);else r=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(P(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===f?(P(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(P(t,!1),0===t.strm.avail_out)?1:2},J=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<A){if(H(t),t.lookahead<A&&e===u)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=$(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-A&&(t.match_length=F(t,n),t.match_length<=5&&(t.strategy===x||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=s(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=$(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(P(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=s(t,0,t.window[t.strstart-1]),r&&P(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=s(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===f?(P(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(P(t,!1),0===t.strm.avail_out)?1:2};function G(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const V=[new G(0,0,0,0,((t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(H(t),0===t.lookahead&&e===u)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,P(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-A&&(P(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===f?(P(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&P(t,!1),1)})),new G(4,4,8,4,q),new G(4,5,16,8,q),new G(4,6,32,32,q),new G(4,4,16,16,J),new G(8,16,32,32,J),new G(8,16,128,128,J),new G(8,32,128,256,J),new G(32,128,258,1024,J),new G(32,258,258,4096,J)];function Z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Y=t=>{if(!t||!t.state)return D(t,v);t.total_in=t.total_out=0,t.data_type=C;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:L,t.adler=2===e.wrap?0:1,e.last_flush=u,r(e),m},X=t=>{const e=Y(t);var n;return e===m&&((n=t.state).window_size=2*n.w_size,j(n.head),n.max_lazy_match=V[n.level].max_lazy,n.good_match=V[n.level].good_length,n.nice_match=V[n.level].nice_length,n.max_chain_length=V[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},K=(t,e,n,r,i,o)=>{if(!t)return v;let s=1;if(e===b&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==R||r<8||r>15||e<0||e>9||o<0||o>S)return D(t,v);8===r&&(r=9);const a=new Z;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,X(t)};t.exports.deflateInit=(t,e)=>K(t,e,R,15,8,T),t.exports.deflateInit2=K,t.exports.deflateReset=X,t.exports.deflateResetKeep=Y,t.exports.deflateSetHeader=(t,e)=>t&&t.state?2!==t.state.wrap?v:(t.state.gzhead=e,m):v,t.exports.deflate=(t,e)=>{let n,r;if(!t||!t.state||e>g||e<0)return t?D(t,v):v;const o=t.state;if(!t.output||!t.input&&0!==t.avail_in||o.status===N&&e!==f)return D(t,0===t.avail_out?w:v);o.strm=t;const l=o.last_flush;if(o.last_flush=e,42===o.status)if(2===o.wrap)t.adler=0,B(o,31),B(o,139),B(o,8),o.gzhead?(B(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),B(o,255&o.gzhead.time),B(o,o.gzhead.time>>8&255),B(o,o.gzhead.time>>16&255),B(o,o.gzhead.time>>24&255),B(o,9===o.level?2:o.strategy>=E||o.level<2?4:0),B(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(B(o,255&o.gzhead.extra.length),B(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=c(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(B(o,0),B(o,0),B(o,0),B(o,0),B(o,0),B(o,9===o.level?2:o.strategy>=E||o.level<2?4:0),B(o,3),o.status=L);else{let e=R+(o.w_bits-8<<4)<<8,n=-1;n=o.strategy>=E||o.level<2?0:o.level<6?1:6===o.level?2:3,e|=n<<6,0!==o.strstart&&(e|=32),e+=31-e%31,o.status=L,M(o,e),0!==o.strstart&&(M(o,t.adler>>>16),M(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),W(t),n=o.pending,o.pending!==o.pending_buf_size));)B(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),W(t),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,B(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),W(t),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}r=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,B(o,r)}while(0!==r);o.gzhead.hcrc&&o.pending>n&&(t.adler=c(t.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.status=O)}else o.status=O;if(o.status===O&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&W(t),o.pending+2<=o.pending_buf_size&&(B(o,255&t.adler),B(o,t.adler>>8&255),t.adler=0,o.status=L)):o.status=L),0!==o.pending){if(W(t),0===t.avail_out)return o.last_flush=-1,m}else if(0===t.avail_in&&U(e)<=U(l)&&e!==f)return D(t,w);if(o.status===N&&0!==t.avail_in)return D(t,w);if(0!==t.avail_in||0!==o.lookahead||e!==u&&o.status!==N){let n=o.strategy===E?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(H(t),0===t.lookahead)){if(e===u)return 1;break}if(t.match_length=0,n=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(P(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===f?(P(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(P(t,!1),0===t.strm.avail_out)?1:2})(o,e):o.strategy===k?((t,e)=>{let n,r,i,o;const a=t.window;for(;;){if(t.lookahead<=I){if(H(t),t.lookahead<=I&&e===u)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+I;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=I-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=s(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=s(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(P(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===f?(P(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(P(t,!1),0===t.strm.avail_out)?1:2})(o,e):V[o.level].func(o,e);if(3!==n&&4!==n||(o.status=N),1===n||3===n)return 0===t.avail_out&&(o.last_flush=-1),m;if(2===n&&(e===h?a(o):e!==g&&(i(o,0,0,!1),e===p&&(j(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),W(t),0===t.avail_out))return o.last_flush=-1,m}return e!==f?m:o.wrap<=0?_:(2===o.wrap?(B(o,255&t.adler),B(o,t.adler>>8&255),B(o,t.adler>>16&255),B(o,t.adler>>24&255),B(o,255&t.total_in),B(o,t.total_in>>8&255),B(o,t.total_in>>16&255),B(o,t.total_in>>24&255)):(M(o,t.adler>>>16),M(o,65535&t.adler)),W(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?m:_)},t.exports.deflateEnd=t=>{if(!t||!t.state)return v;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==O&&e!==L&&e!==N?D(t,v):(t.state=null,e===L?D(t,y):m)},t.exports.deflateSetDictionary=(t,e)=>{let n=e.length;if(!t||!t.state)return v;const r=t.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return v;if(1===i&&(t.adler=l(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(j(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,H(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=$(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,H(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,m},t.exports.deflateInfo="pako deflate (from Nodeca project)"},401:function(t){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},264:function(t){"use strict";t.exports=function(t,e){let n,r,i,o,s,a,l,c,d,u,h,p,f,g,m,_,v,y,w,b,x,E,k,S;const T=t.state;n=t.next_in,k=t.input,r=n+(t.avail_in-5),i=t.next_out,S=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=T.dmax,l=T.wsize,c=T.whave,d=T.wnext,u=T.window,h=T.hold,p=T.bits,f=T.lencode,g=T.distcode,m=(1<<T.lenbits)-1,_=(1<<T.distbits)-1;t:do{p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),v=f[h&m];e:for(;;){if(y=v>>>24,h>>>=y,p-=y,y=v>>>16&255,0===y)S[i++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=f[(65535&v)+(h&(1<<y)-1)];continue e}if(32&y){T.mode=12;break t}t.msg="invalid literal/length code",T.mode=30;break t}w=65535&v,y&=15,y&&(p<y&&(h+=k[n++]<<p,p+=8),w+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=k[n++]<<p,p+=8,h+=k[n++]<<p,p+=8),v=g[h&_];n:for(;;){if(y=v>>>24,h>>>=y,p-=y,y=v>>>16&255,!(16&y)){if(0==(64&y)){v=g[(65535&v)+(h&(1<<y)-1)];continue n}t.msg="invalid distance code",T.mode=30;break t}if(b=65535&v,y&=15,p<y&&(h+=k[n++]<<p,p+=8,p<y&&(h+=k[n++]<<p,p+=8)),b+=h&(1<<y)-1,b>a){t.msg="invalid distance too far back",T.mode=30;break t}if(h>>>=y,p-=y,y=i-o,b>y){if(y=b-y,y>c&&T.sane){t.msg="invalid distance too far back",T.mode=30;break t}if(x=0,E=u,0===d){if(x+=l-y,y<w){w-=y;do{S[i++]=u[x++]}while(--y);x=i-b,E=S}}else if(d<y){if(x+=l+d-y,y-=d,y<w){w-=y;do{S[i++]=u[x++]}while(--y);if(x=0,d<w){y=d,w-=y;do{S[i++]=u[x++]}while(--y);x=i-b,E=S}}}else if(x+=d-y,y<w){w-=y;do{S[i++]=u[x++]}while(--y);x=i-b,E=S}for(;w>2;)S[i++]=E[x++],S[i++]=E[x++],S[i++]=E[x++],w-=3;w&&(S[i++]=E[x++],w>1&&(S[i++]=E[x++]))}else{x=i-b;do{S[i++]=S[x++],S[i++]=S[x++],S[i++]=S[x++],w-=3}while(w>2);w&&(S[i++]=S[x++],w>1&&(S[i++]=S[x++]))}break}}break}}while(n<r&&i<s);w=p>>3,n-=w,p-=w<<3,h&=(1<<p)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<s?s-i+257:257-(i-s),T.hold=h,T.bits=p}},948:function(t,e,n){"use strict";const r=n(69),i=n(869),o=n(264),s=n(241),{Z_FINISH:a,Z_BLOCK:l,Z_TREES:c,Z_OK:d,Z_STREAM_END:u,Z_NEED_DICT:h,Z_STREAM_ERROR:p,Z_DATA_ERROR:f,Z_MEM_ERROR:g,Z_BUF_ERROR:m,Z_DEFLATED:_}=n(619),v=12,y=30,w=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const x=t=>{if(!t||!t.state)return p;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,d},E=t=>{if(!t||!t.state)return p;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,x(t)},k=(t,e)=>{let n;if(!t||!t.state)return p;const r=t.state;return e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?p:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,E(t))},S=(t,e)=>{if(!t)return p;const n=new b;t.state=n,n.window=null;const r=k(t,e);return r!==d&&(t.state=null),r};let T,C,R=!0;const I=t=>{if(R){T=new Int32Array(512),C=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,T,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,C,0,t.work,{bits:5}),R=!1}t.lencode=T,t.lenbits=9,t.distcode=C,t.distbits=5},A=(t,e,n,r)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};t.exports.inflateReset=E,t.exports.inflateReset2=k,t.exports.inflateResetKeep=x,t.exports.inflateInit=t=>S(t,15),t.exports.inflateInit2=S,t.exports.inflate=(t,e)=>{let n,b,x,E,k,S,T,C,R,O,L,N,D,U,j,$,W,P,B,M,z,F,H=0;const q=new Uint8Array(4);let J,G;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return p;n=t.state,n.mode===v&&(n.mode=13),k=t.next_out,x=t.output,T=t.avail_out,E=t.next_in,b=t.input,S=t.avail_in,C=n.hold,R=n.bits,O=S,L=T,F=d;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;R<16;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if(2&n.wrap&&35615===C){n.check=0,q[0]=255&C,q[1]=C>>>8&255,n.check=i(n.check,q,2,0),C=0,R=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&C)<<8)+(C>>8))%31){t.msg="incorrect header check",n.mode=y;break}if((15&C)!==_){t.msg="unknown compression method",n.mode=y;break}if(C>>>=4,R-=4,z=8+(15&C),0===n.wbits)n.wbits=z;else if(z>n.wbits){t.msg="invalid window size",n.mode=y;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=512&C?10:v,C=0,R=0;break;case 2:for(;R<16;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if(n.flags=C,(255&n.flags)!==_){t.msg="unknown compression method",n.mode=y;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=y;break}n.head&&(n.head.text=C>>8&1),512&n.flags&&(q[0]=255&C,q[1]=C>>>8&255,n.check=i(n.check,q,2,0)),C=0,R=0,n.mode=3;case 3:for(;R<32;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}n.head&&(n.head.time=C),512&n.flags&&(q[0]=255&C,q[1]=C>>>8&255,q[2]=C>>>16&255,q[3]=C>>>24&255,n.check=i(n.check,q,4,0)),C=0,R=0,n.mode=4;case 4:for(;R<16;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}n.head&&(n.head.xflags=255&C,n.head.os=C>>8),512&n.flags&&(q[0]=255&C,q[1]=C>>>8&255,n.check=i(n.check,q,2,0)),C=0,R=0,n.mode=5;case 5:if(1024&n.flags){for(;R<16;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}n.length=C,n.head&&(n.head.extra_len=C),512&n.flags&&(q[0]=255&C,q[1]=C>>>8&255,n.check=i(n.check,q,2,0)),C=0,R=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(N=n.length,N>S&&(N=S),N&&(n.head&&(z=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(b.subarray(E,E+N),z)),512&n.flags&&(n.check=i(n.check,b,N,E)),S-=N,E+=N,n.length-=N),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===S)break t;N=0;do{z=b[E+N++],n.head&&z&&n.length<65536&&(n.head.name+=String.fromCharCode(z))}while(z&&N<S);if(512&n.flags&&(n.check=i(n.check,b,N,E)),S-=N,E+=N,z)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===S)break t;N=0;do{z=b[E+N++],n.head&&z&&n.length<65536&&(n.head.comment+=String.fromCharCode(z))}while(z&&N<S);if(512&n.flags&&(n.check=i(n.check,b,N,E)),S-=N,E+=N,z)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;R<16;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if(C!==(65535&n.check)){t.msg="header crc mismatch",n.mode=y;break}C=0,R=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=v;break;case 10:for(;R<32;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}t.adler=n.check=w(C),C=0,R=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=k,t.avail_out=T,t.next_in=E,t.avail_in=S,n.hold=C,n.bits=R,h;t.adler=n.check=1,n.mode=v;case v:if(e===l||e===c)break t;case 13:if(n.last){C>>>=7&R,R-=7&R,n.mode=27;break}for(;R<3;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}switch(n.last=1&C,C>>>=1,R-=1,3&C){case 0:n.mode=14;break;case 1:if(I(n),n.mode=20,e===c){C>>>=2,R-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=y}C>>>=2,R-=2;break;case 14:for(C>>>=7&R,R-=7&R;R<32;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if((65535&C)!=(C>>>16^65535)){t.msg="invalid stored block lengths",n.mode=y;break}if(n.length=65535&C,C=0,R=0,n.mode=15,e===c)break t;case 15:n.mode=16;case 16:if(N=n.length,N){if(N>S&&(N=S),N>T&&(N=T),0===N)break t;x.set(b.subarray(E,E+N),k),S-=N,E+=N,T-=N,k+=N,n.length-=N;break}n.mode=v;break;case 17:for(;R<14;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if(n.nlen=257+(31&C),C>>>=5,R-=5,n.ndist=1+(31&C),C>>>=5,R-=5,n.ncode=4+(15&C),C>>>=4,R-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=y;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;R<3;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}n.lens[V[n.have++]]=7&C,C>>>=3,R-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,J={bits:n.lenbits},F=s(0,n.lens,0,19,n.lencode,0,n.work,J),n.lenbits=J.bits,F){t.msg="invalid code lengths set",n.mode=y;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;H=n.lencode[C&(1<<n.lenbits)-1],j=H>>>24,$=H>>>16&255,W=65535&H,!(j<=R);){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if(W<16)C>>>=j,R-=j,n.lens[n.have++]=W;else{if(16===W){for(G=j+2;R<G;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if(C>>>=j,R-=j,0===n.have){t.msg="invalid bit length repeat",n.mode=y;break}z=n.lens[n.have-1],N=3+(3&C),C>>>=2,R-=2}else if(17===W){for(G=j+3;R<G;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}C>>>=j,R-=j,z=0,N=3+(7&C),C>>>=3,R-=3}else{for(G=j+7;R<G;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}C>>>=j,R-=j,z=0,N=11+(127&C),C>>>=7,R-=7}if(n.have+N>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=y;break}for(;N--;)n.lens[n.have++]=z}}if(n.mode===y)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=y;break}if(n.lenbits=9,J={bits:n.lenbits},F=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,J),n.lenbits=J.bits,F){t.msg="invalid literal/lengths set",n.mode=y;break}if(n.distbits=6,n.distcode=n.distdyn,J={bits:n.distbits},F=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,J),n.distbits=J.bits,F){t.msg="invalid distances set",n.mode=y;break}if(n.mode=20,e===c)break t;case 20:n.mode=21;case 21:if(S>=6&&T>=258){t.next_out=k,t.avail_out=T,t.next_in=E,t.avail_in=S,n.hold=C,n.bits=R,o(t,L),k=t.next_out,x=t.output,T=t.avail_out,E=t.next_in,b=t.input,S=t.avail_in,C=n.hold,R=n.bits,n.mode===v&&(n.back=-1);break}for(n.back=0;H=n.lencode[C&(1<<n.lenbits)-1],j=H>>>24,$=H>>>16&255,W=65535&H,!(j<=R);){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if($&&0==(240&$)){for(P=j,B=$,M=W;H=n.lencode[M+((C&(1<<P+B)-1)>>P)],j=H>>>24,$=H>>>16&255,W=65535&H,!(P+j<=R);){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}C>>>=P,R-=P,n.back+=P}if(C>>>=j,R-=j,n.back+=j,n.length=W,0===$){n.mode=26;break}if(32&$){n.back=-1,n.mode=v;break}if(64&$){t.msg="invalid literal/length code",n.mode=y;break}n.extra=15&$,n.mode=22;case 22:if(n.extra){for(G=n.extra;R<G;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}n.length+=C&(1<<n.extra)-1,C>>>=n.extra,R-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;H=n.distcode[C&(1<<n.distbits)-1],j=H>>>24,$=H>>>16&255,W=65535&H,!(j<=R);){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if(0==(240&$)){for(P=j,B=$,M=W;H=n.distcode[M+((C&(1<<P+B)-1)>>P)],j=H>>>24,$=H>>>16&255,W=65535&H,!(P+j<=R);){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}C>>>=P,R-=P,n.back+=P}if(C>>>=j,R-=j,n.back+=j,64&$){t.msg="invalid distance code",n.mode=y;break}n.offset=W,n.extra=15&$,n.mode=24;case 24:if(n.extra){for(G=n.extra;R<G;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}n.offset+=C&(1<<n.extra)-1,C>>>=n.extra,R-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=y;break}n.mode=25;case 25:if(0===T)break t;if(N=L-T,n.offset>N){if(N=n.offset-N,N>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=y;break}N>n.wnext?(N-=n.wnext,D=n.wsize-N):D=n.wnext-N,N>n.length&&(N=n.length),U=n.window}else U=x,D=k-n.offset,N=n.length;N>T&&(N=T),T-=N,n.length-=N;do{x[k++]=U[D++]}while(--N);0===n.length&&(n.mode=21);break;case 26:if(0===T)break t;x[k++]=n.length,T--,n.mode=21;break;case 27:if(n.wrap){for(;R<32;){if(0===S)break t;S--,C|=b[E++]<<R,R+=8}if(L-=T,t.total_out+=L,n.total+=L,L&&(t.adler=n.check=n.flags?i(n.check,x,L,k-L):r(n.check,x,L,k-L)),L=T,(n.flags?C:w(C))!==n.check){t.msg="incorrect data check",n.mode=y;break}C=0,R=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;R<32;){if(0===S)break t;S--,C+=b[E++]<<R,R+=8}if(C!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=y;break}C=0,R=0}n.mode=29;case 29:F=u;break t;case y:F=f;break t;case 31:return g;case 32:default:return p}return t.next_out=k,t.avail_out=T,t.next_in=E,t.avail_in=S,n.hold=C,n.bits=R,(n.wsize||L!==t.avail_out&&n.mode<y&&(n.mode<27||e!==a))&&A(t,t.output,t.next_out,L-t.avail_out)?(n.mode=31,g):(O-=t.avail_in,L-=t.avail_out,t.total_in+=O,t.total_out+=L,n.total+=L,n.wrap&&L&&(t.adler=n.check=n.flags?i(n.check,x,L,t.next_out-L):r(n.check,x,L,t.next_out-L)),t.data_type=n.bits+(n.last?64:0)+(n.mode===v?128:0)+(20===n.mode||15===n.mode?256:0),(0===O&&0===L||e===a)&&F===d&&(F=m),F)},t.exports.inflateEnd=t=>{if(!t||!t.state)return p;let e=t.state;return e.window&&(e.window=null),t.state=null,d},t.exports.inflateGetHeader=(t,e)=>{if(!t||!t.state)return p;const n=t.state;return 0==(2&n.wrap)?p:(n.head=e,e.done=!1,d)},t.exports.inflateSetDictionary=(t,e)=>{const n=e.length;let i,o,s;return t&&t.state?(i=t.state,0!==i.wrap&&11!==i.mode?p:11===i.mode&&(o=1,o=r(o,e,n,0),o!==i.check)?f:(s=A(t,e,n,n),s?(i.mode=31,g):(i.havedict=1,d))):p},t.exports.inflateInfo="pako inflate (from Nodeca project)"},241:function(t){"use strict";const e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),n=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),r=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),i=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=(t,o,s,a,l,c,d,u)=>{const h=u.bits;let p,f,g,m,_,v,y=0,w=0,b=0,x=0,E=0,k=0,S=0,T=0,C=0,R=0,I=null,A=0;const O=new Uint16Array(16),L=new Uint16Array(16);let N,D,U,j=null,$=0;for(y=0;y<=15;y++)O[y]=0;for(w=0;w<a;w++)O[o[s+w]]++;for(E=h,x=15;x>=1&&0===O[x];x--);if(E>x&&(E=x),0===x)return l[c++]=20971520,l[c++]=20971520,u.bits=1,0;for(b=1;b<x&&0===O[b];b++);for(E<b&&(E=b),T=1,y=1;y<=15;y++)if(T<<=1,T-=O[y],T<0)return-1;if(T>0&&(0===t||1!==x))return-1;for(L[1]=0,y=1;y<15;y++)L[y+1]=L[y]+O[y];for(w=0;w<a;w++)0!==o[s+w]&&(d[L[o[s+w]]++]=w);if(0===t?(I=j=d,v=19):1===t?(I=e,A-=257,j=n,$-=257,v=256):(I=r,j=i,v=-1),R=0,w=0,y=b,_=c,k=E,S=0,g=-1,C=1<<E,m=C-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){N=y-S,d[w]<v?(D=0,U=d[w]):d[w]>v?(D=j[$+d[w]],U=I[A+d[w]]):(D=96,U=0),p=1<<y-S,f=1<<k,b=f;do{f-=p,l[_+(R>>S)+f]=N<<24|D<<16|U|0}while(0!==f);for(p=1<<y-1;R&p;)p>>=1;if(0!==p?(R&=p-1,R+=p):R=0,w++,0==--O[y]){if(y===x)break;y=o[s+d[w]]}if(y>E&&(R&m)!==g){for(0===S&&(S=E),_+=b,k=y-S,T=1<<k;k+S<x&&(T-=O[k+S],!(T<=0));)k++,T<<=1;if(C+=1<<k,1===t&&C>852||2===t&&C>592)return 1;g=R&m,l[g]=E<<24|k<<16|_-c|0}}return 0!==R&&(l[_+R]=y-S<<24|64<<16|0),u.bits=E,0}},898:function(t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:function(t){"use strict";function e(t){let e=t.length;for(;--e>=0;)t[e]=0}const n=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);e(s);const a=Array(60);e(a);const l=Array(512);e(l);const c=Array(256);e(c);const d=Array(29);e(d);const u=Array(30);function h(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let p,f,g;function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(u);const _=t=>t<256?l[t]:l[256+(t>>>7)],v=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},y=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,v(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},w=(t,e,n)=>{y(t,n[2*e],n[2*e+1])},b=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},x=(t,e,n)=>{const r=Array(16);let i,o,s=0;for(i=1;i<=15;i++)r[i]=s=s+n[i-1]<<1;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=b(r[e]++,e))}},E=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},k=t=>{t.bi_valid>8?v(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S=(t,e,n,r)=>{const i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},T=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&S(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!S(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},C=(t,e,i)=>{let o,s,a,l,h=0;if(0!==t.last_lit)do{o=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],s=t.pending_buf[t.l_buf+h],h++,0===o?w(t,s,e):(a=c[s],w(t,a+256+1,e),l=n[a],0!==l&&(s-=d[a],y(t,s,l)),o--,a=_(o),w(t,a,i),l=r[a],0!==l&&(o-=u[a],y(t,o,l)))}while(h<t.last_lit);w(t,256,e)},R=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,l,c=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,n[2*l]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=r[2*l+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)T(t,n,s);l=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],T(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*l]=n[2*s]+n[2*a],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=l,t.heap[1]=l++,T(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,d,u,h,p,f,g=0;for(h=0;h<=15;h++)t.bl_count[h]=0;for(n[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)d=t.heap[c],h=n[2*n[2*d+1]+1]+1,h>l&&(h=l,g++),n[2*d+1]=h,d>r||(t.bl_count[h]++,p=0,d>=a&&(p=s[d-a]),f=n[2*d],t.opt_len+=f*(h+p),o&&(t.static_len+=f*(i[2*d+1]+p)));if(0!==g){do{for(h=l-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[l]--,g-=2}while(g>0);for(h=l;0!==h;h--)for(d=t.bl_count[h];0!==d;)u=t.heap[--c],u>r||(n[2*u+1]!==h&&(t.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),d--)}})(t,e),x(n,c,t.bl_count)},I=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<l&&i===s||(a<c?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4))},A=(t,e,n)=>{let r,i,o=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)do{w(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(w(t,i,t.bl_tree),a--),w(t,16,t.bl_tree),y(t,a-3,2)):a<=10?(w(t,17,t.bl_tree),y(t,a-3,3)):(w(t,18,t.bl_tree),y(t,a-11,7));a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}};let O=!1;const L=(t,e,n,r)=>{y(t,0+(r?1:0),3),((t,e,n,r)=>{k(t),v(t,n),v(t,~n),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n})(t,e,n)};t.exports._tr_init=t=>{O||((()=>{let t,e,o,m,_;const v=Array(16);for(o=0,m=0;m<28;m++)for(d[m]=o,t=0;t<1<<n[m];t++)c[o++]=m;for(c[o-1]=m,_=0,m=0;m<16;m++)for(u[m]=_,t=0;t<1<<r[m];t++)l[_++]=m;for(_>>=7;m<30;m++)for(u[m]=_<<7,t=0;t<1<<r[m]-7;t++)l[256+_++]=m;for(e=0;e<=15;e++)v[e]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,v[8]++;for(;t<=255;)s[2*t+1]=9,t++,v[9]++;for(;t<=279;)s[2*t+1]=7,t++,v[7]++;for(;t<=287;)s[2*t+1]=8,t++,v[8]++;for(x(s,287,v),t=0;t<30;t++)a[2*t+1]=5,a[2*t]=b(t,5);p=new h(s,n,257,286,15),f=new h(a,r,0,30,15),g=new h([],i,0,19,7)})(),O=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,f),t.bl_desc=new m(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,E(t)},t.exports._tr_stored_block=L,t.exports._tr_flush_block=(t,e,n,r)=>{let i,l,c=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),c=(t=>{let e;for(I(t,t.dyn_ltree,t.l_desc.max_code),I(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*o[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=i&&(i=l)):i=l=n+5,n+4<=i&&-1!==e?L(t,e,n,r):4===t.strategy||l===i?(y(t,2+(r?1:0),3),C(t,s,a)):(y(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(y(t,e-257,5),y(t,n-1,5),y(t,r-4,4),i=0;i<r;i++)y(t,t.bl_tree[2*o[i]+1],3);A(t,t.dyn_ltree,e-1),A(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),C(t,t.dyn_ltree,t.dyn_dtree)),E(t),r&&k(t)},t.exports._tr_tally=(t,e,n)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(c[n]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1),t.exports._tr_align=t=>{y(t,2,3),w(t,256,s),(t=>{16===t.bi_valid?(v(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},292:function(t){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";class t{constructor(){this.dataBuffer=[],this.errorBuffer=[],this.resolveWithJsonString=t=>{try{this.resolve(JSON.parse(t))}catch(e){this.resolve(t)}},this.resolve=t=>{this.dataBuffer=[t],this._callResolve()},this.reject=t=>{this.errorBuffer=t,this._callReject()}}then(t,e){this.resolveCallback=t,this.rejectCallback=e,this._callResolve(),this._callReject()}_callResolve(){var t;this.dataBuffer.length>0&&(null===(t=this.resolveCallback)||void 0===t||t.call(this,this.dataBuffer[0]))}_callReject(){var t;this.errorBuffer.length>0&&(null===(t=this.rejectCallback)||void 0===t||t.call(this,this.errorBuffer[0]))}}const e=new class{constructor(){this.urlChange$=new t,this.setupOnUrlChange()}getCurrentPageUrl(){return window.mediaadIframeReferer||document.location.href.split("#")[0]}getCurrentPageUrlEncoded(){return encodeURIComponent(e.getCurrentPageUrl())}onUrlChange(t){this.urlChange$.then(t),window.addEventListener("popstate",t),window.addEventListener("hashchange",t)}setupOnUrlChange(){const t=this.urlChange$;var e;history.pushState=(e=history.pushState,function(){return t.resolve(void 0),e.apply(this,arguments)}),history.replaceState=(e=>function(){return t.resolve(void 0),e.apply(this,arguments)})(history.replaceState)}};class r{static getInfoOfAgency(t,e){for(let[n,r]of t)if(n===e)return r;return t.get("TAPSELL")}static checkAgency(t){const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const r=e.item(n);if(r&&r.src&&r.src.includes(t))return!0}return!1}static getWidgetInfo(t,e){return null==e?void 0:e.find((e=>e.id===t))}}const i=new Map([["TAPSELL","https://tapsell.com"],["SANJAGH","https://sanjagh.com"],["YELLOADWISE","https://yelloadwise.ir"]]),o=new Map([["TAPSELL","https://api.mediaad.org"],["SANJAGH","https://api.mediaad.org"],["YELLOADWISE","https://s1.yelloadwise.ir"]]),s=new Map([["TAPSELL","https://cdn.mediaffic.ir"],["SANJAGH","https://cdn.mediaffic.ir"],["YELLOADWISE","https://cdn.mediaffic.ir"]]),a=new Map([["TAPSELL","https://mediacdn.mediaad.org"],["SANJAGH","https://mediacdn.mediaad.org"],["YELLOADWISE","https://cdn.yelloadwise.ir"]]),l=new Map([["TAPSELL","tapsell/web/face"],["SANJAGH","tapsell/web/face"],["YELLOADWISE","yello/web/face"]]),c=(new Map([["TAPSELL","https://s1.mediaad.org"],["SANJAGH","https://s1.mediaad.org"],["YELLOADWISE","https://s1.yelloadwise.ir"]]),(t="TAPSELL")=>{const e=window.location.hostname.includes("pegah.tech"),n=()=>`${s.get(t)}/${l.get(t).concat(e?"/staging":"")}`;return{cdn:n,template:t=>`${n()}/loader/templates/${t}`,assets:t=>`${n()}/loader/assets/${t}`}});class d{constructor(t){this._contentWidgetLogoDictionary=new Map([["TAPSELL",this.assets().tapsellLogoJson],["SANJAGH",this.assets().tapsellLogoJson],["YELLOADWISE",this.assets().irancellColored]]),this._contentSliderWidgetLogoDictionary=new Map([["TAPSELL",this.assets().tapsellLogoJson],["SANJAGH",this.assets().tapsellLogoJson],["YELLOADWISE",this.assets().irancellColored]]),this._sliderWidgetLogoAspectRatioDictionary=new Map([["TAPSELL",85/30],["SANJAGH",1],["YELLOADWISE",85/30]]),this._productRetargetStyleDictionary=new Map([["TAPSELL",`.ni-mediaad-logo {margin-left: 6px;background-image: url(${this.assets().tapsell100x20});width: 20px;height: 20px;float: left;margin-bottom:10px;background-size: cover;background-position: left top;transition: all 0.3s;}.ni-mediaad-logo:hover { width: 100px; transition: all 0.3s;}`],["SANJAGH",`.ni-mediaad-logo {margin-left: 6px;background-image: url(${this.assets().tapsell100x20});width: 20px;height: 20px;float: left;margin-bottom:10px;background-size: cover;background-position: left top;transition: all 0.3s;}`],["YELLOADWISE",`.ni-mediaad-logo {margin-left: 6px;background-image: url(${this.assets().irancellColored});width: 20px;height: 20px;float: left;background-size: cover;background-position: left top;transition: all 0.3s;}.ni-mediaad-logo:hover { width: 100px; transition: all 0.3s;}`]]),this._sliderWidgetProgressBarColorDictionary=new Map([["TAPSELL","#04BDE5"],["SANJAGH","#04BDE5"],["YELLOADWISE","#ffcc00"]]),this._advertiserUserGroup=t,d._defaultUserGroup||(d._defaultUserGroup=t)}static getInstance(t){return t?(d._instances.has(t)||d._instances.set(t,new d(t)),d._instances.get(t)):(d._instances.set(t=d._defaultUserGroup||"TAPSELL",new d(t)),d._instances.get(t))}set advertiserUserGroup(t){this._advertiserUserGroup=t}get advertiserUserGroup(){return this._advertiserUserGroup}withWidgetId(t){const e=r.getWidgetInfo(t);return d.getInstance((null==e?void 0:e.user_group)||this._advertiserUserGroup)}withUserGroup(t){return new d(t||this._advertiserUserGroup)}agencyLanding(t,e){var n;return(null===(n=i.get(e=e||this._advertiserUserGroup))||void 0===n?void 0:n.concat(t))||t}assets(){const{assets:t}=c(this._advertiserUserGroup);return{lottiePlayer:t("lottie-player.js"),closeBnr:t("close-bnr.jpg"),irancellColored:t("irancell-colored.svg"),tapsell100x20:t("tapsell-logo-100x20.svg"),tapsellLogoJson:t("tapsell-logo.json")}}templatesUrl(){const{template:t}=c(this._advertiserUserGroup);return{nativeVideo:t("native-video.html"),notifVideo:t("notif-video.html"),stickyVideo:t("sticky-native-video.html"),nativeSlider:t("native-slider.html"),nativeContent:t("native-content.html"),contentWidgetTest2:t("content-widget-test-2.html"),nativeSlideFooter:t("product-native-slide-footer.html"),sliderBanner:t("slider-banner.html"),contentSliderAlt:t("content-slider-alt.html"),contentSlider:t("content-slider.html"),notifNative:t("notif-photo.html"),nativeProduct:t("native-product.html")}}resourcesConfig(){const{cdn:t}=c(this._advertiserUserGroup);return{tapsellVideoPlayer:{id:this._advertiserUserGroup+"_VIDEO_PLAYER",type:"script",query:"head",url:t()+"/video-player/tvp.min.js"},lottiePlayer:{type:"script",query:"head",url:this.assets().lottiePlayer,id:"LOTTIE_PLAYER"}}}urls(){return{apiDomain:o.get(this._advertiserUserGroup),mediaCdnDomain:a.get(this._advertiserUserGroup),cdnDomain:s.get(this._advertiserUserGroup)}}contentWidgetLogo(){return this._contentWidgetLogoDictionary.get(this._advertiserUserGroup)}contentSliderWidgetLogo(){return this._contentSliderWidgetLogoDictionary.get(this._advertiserUserGroup)}sliderWidgetLogoAspectRatio(){return this._sliderWidgetLogoAspectRatioDictionary.get(this._advertiserUserGroup)}productRetargetStyle(){return this._productRetargetStyleDictionary.get(this._advertiserUserGroup)}sliderWidgetProgressBarColor(){return this._sliderWidgetProgressBarColorDictionary.get(this._advertiserUserGroup)}}d._instances=new Map;const u=new class{constructor(){this.API_URL="https://api.mediaad.org",this.widget_to_recomads={},this.all_recomads={},this.createdWidgetTags=[],this.loaded_widget_ids=[],this.verify_sent_map={},this.iframe_widgets=[],this.impressionTrackerHistory=[],this.iframe_banner_widgets=[],this.style=document.createElement("style"),this.bodyStyle=document.createElement("style"),this.widgetFallBackMap=new Map,this.widgetAbTestMap=new Map,this.setupStyleElement()}initialize(t){const e=d.getInstance(t.userGroup);this.all_recomads={},this.createdWidgetTags=[],this.loaded_widget_ids=[],this.verify_sent_map={},this.loaderJsData=t,this.API_URL=e.urls().apiDomain,this.PERSIAN_NAME=t.systemPersianName,this.MAIN_SITE_URL=t.systemMainSiteUrl;const n=class{static findOsAndDeviceName(){let t="unknown",e="unknown";return navigator.appVersion.includes("Win")?(e="windows",t="desktop"):navigator.appVersion.includes("Mac")?(e="macos",t="desktop"):navigator.appVersion.includes("X11")?(e="unix",t="desktop"):navigator.appVersion.includes("Linux")&&(e="linux",t="desktop"),navigator.userAgent.match(/Android/i)?(e="android",t="mobile"):navigator.userAgent.match(/BlackBerry/i)?(e="blackberry",t="mobile"):navigator.userAgent.match(/Windows Phone/i)?(e="unknown",t="mobile"):navigator.userAgent.match(/iPhone|iPod/i)?(e="ios",t="mobile"):navigator.userAgent.match(/iPad/i)&&(e="ios",t="tablet"),[e,t]}}.findOsAndDeviceName();this.osName=n[0],this.deviceName=n[1],this.uniqueName=null==t?void 0:t.uniqueName,this.widgetFallBackMap=new Map,this.widgetAbTestMap=new Map}setupStyleElement(){const t=document.querySelector("head");null==t||t.appendChild(this.style);const e=document.querySelector("body");null==e||e.appendChild(this.bodyStyle)}postResizeMessage(t){parent.postMessage&&"function"==typeof parent.postMessage&&parent.postMessage(`mediaad:widget:${t}:size:${document.body.scrollHeight}`,"*")}};var h,p=n(669),f=n.n(p),g=n(889),m=n.n(g),_=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(h||(h={}));var w=n(844),b=n(170),x=(0,w.Rf)(),E="Sentry Logger ",k=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,w.Cf)((function(){x.console.log(E+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,w.Cf)((function(){x.console.warn(E+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,w.Cf)((function(){x.console.error(E+"[Error]: "+t.join(" "))}))},t}();x.__SENTRY__=x.__SENTRY__||{};var S,T=x.__SENTRY__.logger||(x.__SENTRY__.logger=new k),C=n(422);function R(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return $(t,Error)}}function I(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function A(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function O(t){return"[object String]"===Object.prototype.toString.call(t)}function L(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function N(t){return"[object Object]"===Object.prototype.toString.call(t)}function D(t){return"undefined"!=typeof Event&&$(t,Event)}function U(t){return"undefined"!=typeof Element&&$(t,Element)}function j(t){return!(!t||!t.then||"function"!=typeof t.then)}function $(t,e){try{return t instanceof e}catch(t){return!1}}!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(S||(S={}));var W=function(){function t(t){var e=this;this._state=S.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(S.RESOLVED,t)},this._reject=function(t){e._setResult(S.REJECTED,t)},this._setResult=function(t,n){e._state===S.PENDING&&(j(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==S.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===S.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===S.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach((function(e,s){t.resolve(e).then((function(t){o[s]=t,0==(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void i(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void i(t)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,o;return n.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?r(i):t(i)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),P=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=y(e._breadcrumbs),n._tags=_({},e._tags),n._extra=_({},e._extra),n._contexts=_({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=y(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=_(_({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=_(_({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=_(_({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=_(_({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=_(_({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,i=this.getSpan();return(null===(t=i)||void 0===t?void 0:t.transaction)?null===(e=i)||void 0===e?void 0:e.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=_(_({},this._tags),e._tags),this._extra=_(_({},this._extra),e._extra),this._contexts=_(_({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):N(e)&&(e=e,this._tags=_(_({},this._tags),e.tags),this._extra=_(_({},this._extra),e.extra),this._contexts=_(_({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=_({timestamp:(0,b.yW)()},t);return this._breadcrumbs=void 0!==e&&e>=0?y(this._breadcrumbs,[n]).slice(-e):y(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=_(_({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=_(_({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=_(_({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=_(_({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=_({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=_({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=y(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(y(B(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var i=this;return void 0===r&&(r=0),new W((function(o,s){var a=t[r];if(null===e||"function"!=typeof a)o(e);else{var l=a(_({},e),n);j(l)?l.then((function(e){return i._notifyEventProcessors(t,e,n,r+1).then(o)})).then(null,s):i._notifyEventProcessors(t,l,n,r+1).then(o).then(null,s)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function B(){var t=(0,w.Rf)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function M(t){B().push(t)}var z=function(t,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},F=function(){return(F=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function H(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(t){try{for(var e=t,n=[],r=0,i=0,o=void 0;e&&r++<5&&!("html"===(o=J(e))||r>1&&i+3*n.length+o.length>=80);)n.push(o),i+=o.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function J(t){var e,n,r,i,o,s=t,a=[];if(!s||!s.tagName)return"";if(a.push(s.tagName.toLowerCase()),s.id&&a.push("#"+s.id),(e=s.className)&&O(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var l=["type","name","title","alt"];for(o=0;o<l.length;o++)(i=s.getAttribute(r=l[o]))&&a.push("["+r+'="'+i+'"]');return a.join("")}var G=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),V="<anonymous>";function Z(t){try{return t&&"function"==typeof t&&t.name||V}catch(t){return V}}function Y(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function X(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(i+"")}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function K(t,e){return!!O(t)&&("[object RegExp]"===Object.prototype.toString.call(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}function Q(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=i}}function tt(t){if(R(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(D(t)){var i=t,o={};o.type=i.type;try{o.target=U(i.target)?q(i.target):Object.prototype.toString.call(i.target)}catch(t){o.target="<unknown>"}try{o.currentTarget=U(i.currentTarget)?q(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(t){o.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&$(t,CustomEvent)&&(o.detail=i.detail),i)Object.prototype.hasOwnProperty.call(i,r)&&(o[r]=i);return o}return t}function et(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,i=it(t,e);return r=JSON.stringify(i),~-encodeURI(r).split(/%..|./).length>n?et(t,e-1,n):i}function nt(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":N(r=t)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Z(t)+"]":"symbol"==typeof t?"["+t+"]":"bigint"==typeof t?"[BigInt: "+t+"]":t;var r}function rt(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new G),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=nt(t);return L(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var i=nt(e,t);if(L(i))return i;var o=tt(e),s=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=rt(a,o[a],n-1,r));return r.unmemoize(e),s}function it(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return rt(t,n,e)})))}catch(t){return"**non-serializable**"}}function ot(t,e){void 0===e&&(e=40);var n=Object.keys(tt(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Y(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:Y(i,e)}return""}function st(t){var e,n;if(N(t)){var r=t,i={};try{for(var o=H(Object.keys(r)),s=o.next();!s.done;s=o.next()){var a=s.value;void 0!==r[a]&&(i[a]=st(r[a]))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(st):t}var at=function(){function t(t){this.errors=0,this.sid=(0,w.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=h.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,w.DM)()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.duration="number"==typeof t.duration?t.duration:this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===h.Ok?this.update({status:h.Exited}):this.update()},t.prototype.toJSON=function(){return st({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:st({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),lt=function(){function t(t,e,n){void 0===e&&(e=new P),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=P.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=(0,w.DM)(),r=e;if(!e){var i=void 0;try{throw Error("Sentry syntheticException")}catch(t){i=t}r={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,_(_({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=(0,w.DM)(),i=n;if(!n){var o=void 0;try{throw Error(t)}catch(t){o=t}i={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,_(_({},i),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=(0,w.DM)();return this._invokeClient("captureEvent",t,_(_({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,i=n.client;if(r&&i){var o=i.getOptions&&i.getOptions()||{},s=o.beforeBreadcrumb,a=void 0===s?null:s,l=o.maxBreadcrumbs,c=void 0===l?100:l;if(!(c<=0)){var d=(0,b.yW)(),u=_({timestamp:d},t),h=a?(0,w.Cf)((function(){return a(u,e)})):u;null!==h&&r.addBreadcrumb(h,Math.min(c,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope;n&&e.client&&t(n)},t.prototype.run=function(t){var e=dt(this);try{t(this)}finally{dt(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return T.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,i;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(i=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===i||i.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,i=r&&r.getOptions()||{},o=new at(_(_({release:i.release,environment:i.environment},n&&{user:n.getUser()}),t));if(n){var s=n.getSession&&n.getSession();s&&s.status===h.Ok&&s.update({status:h.Exited}),this.endSession(),n.setSession(o)}return o},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.getStackTop(),o=i.scope,s=i.client;s&&s[t]&&(e=s)[t].apply(e,y(n,[o]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ct(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);T.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function ct(){var t=(0,w.Rf)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function dt(t){var e=ct(),n=pt(e);return ft(e,t),n}function ut(){var t=ct();return ht(t)&&!pt(t).isOlderThan(3)||ft(t,new lt),(0,C.K)()?function(t){var e,n,r;try{var i=null===(r=null===(n=null===(e=ct().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!i)return pt(t);if(!ht(i)||pt(i).isOlderThan(3)){var o=pt(t).getStackTop();ft(i,new lt(o.client,P.clone(o.scope)))}return pt(i)}catch(e){return pt(t)}}(t):pt(t)}function ht(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function pt(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new lt),t.__SENTRY__.hub}function ft(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}var gt=function(t,e){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function mt(t,e){function n(){this.constructor=t}gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var _t=function(){return(_t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function vt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function wt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yt(arguments[e]));return t}var bt=function(){return(bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function xt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Et(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xt(arguments[e]));return t}var kt,St=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),Tt=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,St(r,n.prototype),r}return function(t,e){function n(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),Ct=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Rt=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.path,r=e.pass,i=e.port;return e.protocol+"://"+e.publicKey+(t&&r?":"+r:"")+"@"+e.host+(i?":"+i:"")+"/"+(n?n+"/":n)+e.projectId},t.prototype._fromString=function(t){var e=Ct.exec(t);if(!e)throw new Tt("Invalid Dsn");var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e.slice(1),6),r=n[0],i=n[1],o=n[2],s=void 0===o?"":o,a=n[3],l=n[4],c=void 0===l?"":l,d="",u=n[5],h=u.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),u=h.pop()),u){var p=u.match(/^\d+/);p&&(u=p[0])}this._fromComponents({host:a,pass:s,path:d,projectId:u,port:c,protocol:r,publicKey:i})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new Tt("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new Tt("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Tt("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Tt("Invalid Dsn: Invalid port "+this.port)},t}(),It=[],At=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new Rt(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){i=t}))),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id,s=L(t)?this._getBackend().eventFromMessage(t+"",e,n):this._getBackend().eventFromException(t,n);return this._process(s.then((function(t){return i._captureEvent(t,n,r)})).then((function(t){o=t}))),o},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r},t.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):T.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return e._getBackend().getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){var t;this._isEnabled()&&(this._integrations=(t={},function(t){var e=t.defaultIntegrations&&Et(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(t){return t.name})),o=[];e.forEach((function(t){-1===i.indexOf(t.name)&&-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))})),n.forEach((function(t){-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=Et(e);var s=r.map((function(t){return t.name})),a="Debug";return-1!==s.indexOf(a)&&r.push.apply(r,Et(r.splice(s.indexOf(a),1))),r}(this._options).forEach((function(e){t[e.name]=e,function(t){-1===It.indexOf(t.name)&&(t.setupOnce(M,ut),It.push(t.name),T.log("Integration installed: "+t.name))}(e)})),t))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return T.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i,o=!1,s=!1,a=e.exception&&e.exception.values;if(a){s=!0;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),c=l.next();!c.done;c=l.next()){var d=c.value.mechanism;if(d&&!1===d.handled){o=!0;break}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}var u=e.user;if(!t.userAgent){var p=e.request?e.request.headers:{};for(var f in p)if("user-agent"===f.toLowerCase()){i=p[f];break}}t.update(bt(bt({},o&&{status:h.Crashed}),{user:u,userAgent:i,errors:t.errors+Number(s||o)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new W((function(n){var r=0,i=setInterval((function(){0==e._processing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,s=bt(bt({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,w.DM)()),timestamp:t.timestamp||(0,b.yW)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var a=e;n&&n.captureContext&&(a=P.clone(a).update(n.captureContext));var l=W.resolve(s);return a&&(l=a.applyToEvent(s,n)),l.then((function(t){return"number"==typeof o&&o>0?r._normalizeEvent(t,o):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=bt(bt(bt(bt(bt({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return bt(bt({},t),t.data&&{data:it(t.data,e)})}))}),t.user&&{user:it(t.user,e)}),t.contexts&&{contexts:it(t.contexts,e)}),t.extra&&{extra:it(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.release,r=e.dist,i=e.maxValueLength,o=void 0===i?250:i;"environment"in t||(t.environment="environment"in e?e.environment:"production"),void 0===t.release&&void 0!==n&&(t.release=n),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=Y(t.message,o));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Y(s.value,o));var a=t.request;a&&a.url&&(a.url=Y(a.url,o))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){T.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,s=i.sampleRate;if(!this._isEnabled())return W.reject(new Tt("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof s&&Math.random()>s?W.reject(new Tt("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,n,e).then((function(t){if(null===t)throw new Tt("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!o)return t;var n=o(t,e);if(void 0===n)throw new Tt("`beforeSend` method has to return `null` or a valid event.");return j(n)?n.then((function(t){return t}),(function(t){throw new Tt("beforeSend rejected with "+t)})):n})).then((function(t){if(null===t)throw new Tt("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t})).then(null,(function(t){if(t instanceof Tt)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new Tt("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._processing+=1,t.then((function(t){return e._processing-=1,t}),(function(t){return e._processing-=1,t}))},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(kt||(kt={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(kt||(kt={}));var Ot,Lt=function(){function t(){}return t.prototype.sendEvent=function(t){return W.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:kt.Skipped})},t.prototype.close=function(t){return W.resolve(!0)},t}(),Nt=function(){function t(t){this._options=t,this._options.dsn||T.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new Tt("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new Tt("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){T.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,(function(t){T.error("Error while sending session: "+t)})):T.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new Lt},t}();function Dt(){if(!("fetch"in(0,w.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function Ut(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(""+t)}function jt(){if(!Dt())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(Ot||(Ot={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(Ot||(Ot={}));var $t="?",Wt=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Bt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Mt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,zt=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ft=/Minified React error #\d+;/i;function Ht(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:Ft.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),o=[],s=0;s<i.length;s+=2){var a=null;(e=n.exec(i[s]))?a={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(i[s]))&&(a={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),a&&(!a.func&&a.line&&(a.func=$t),o.push(a))}return o.length?{message:Jt(t),name:t.name,stack:o}:null}(t))return qt(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],o=t.stack.split("\n"),s=0;s<o.length;++s){if(n=Wt.exec(o[s])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=zt.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr(11):n[2],func:n[1]||$t,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Bt.exec(o[s]))r={url:n[2],func:n[1]||$t,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Pt.exec(o[s])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=Mt.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||$t,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=$t),i.push(r)}return i.length?{message:Jt(t),name:t.name,stack:i}:null}(t))return qt(e,n)}catch(t){}return{message:Jt(t),name:t&&t.name,stack:[],failed:!0}}function qt(t,e){try{return _t(_t({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function Jt(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Gt(t){var e=Zt(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Vt(t){return{exception:{values:[Gt(t)]}}}function Zt(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function Yt(t,e,n){var r;if(void 0===n&&(n={}),I(t)&&t.error)return Vt(Ht(t=t.error));if(A(t)||"[object DOMException]"===Object.prototype.toString.call(t)){var i=t,o=i.name||(A(i)?"DOMError":"DOMException"),s=i.message?o+": "+i.message:o;return r=Xt(s,e,n),(0,w.Db)(r,s),"code"in i&&(r.tags=_t(_t({},r.tags),{"DOMException.code":""+i.code})),r}return R(t)?r=Vt(Ht(t)):N(t)||D(t)?(r=function(t,e,n){var r={exception:{values:[{type:D(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+ot(t)}]},extra:{__serialized__:et(t)}};if(e){var i=Zt(Ht(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),(0,w.EG)(r,{synthetic:!0}),r):(r=Xt(t,e,n),(0,w.Db)(r,""+t,void 0),(0,w.EG)(r,{synthetic:!0}),r)}function Xt(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=Zt(Ht(e).stack);r.stacktrace={frames:i}}return r}function Kt(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function Qt(t,e){return e?(t.sdk=t.sdk||{name:e.name,version:e.version},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=Et(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=Et(t.sdk.packages||[],e.packages||[]),t):t}function te(t,e){var n=Kt(e);return{body:JSON.stringify(bt({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function ee(t,e){var n=Kt(e),r=t.type||"event",i="transaction"===r,o=t.debug_meta||{},s=o.transactionSampling,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(o,["transactionSampling"]),l=s||{},c=l.method,d=l.rate;0===Object.keys(a).length?delete t.debug_meta:t.debug_meta=a;var u={body:JSON.stringify(n?Qt(t,e.metadata.sdk):t),type:r,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var h=JSON.stringify(bt({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n})),p=JSON.stringify({type:t.type,sample_rates:[{id:c,rate:d}]});u.body=h+"\n"+p+"\n"+u.body}return u}var ne=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new Rt(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject;return(t.protocol?t.protocol+":":"")+"//"+t.host+(t.port?":"+t.port:"")+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+e),t)if("dsn"!==i)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t;return Object.keys(t={sentry_key:this._dsnObject.publicKey,sentry_version:"7"}).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t}(),re=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):W.reject(new Tt("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new W((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);W.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),ie=function(){function t(t){this.options=t,this._buffer=new re(30),this._rateLimits={},this._api=new ne(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new Tt("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,o=t.reject,s=kt.fromHttpCode(n.status);this._handleRateLimit(r)&&T.warn("Too many requests, backing off until: "+this._disabledUntil(e)),s!==kt.Success?o(n):i({status:s})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,i,o=Date.now(),s=t["x-sentry-rate-limits"],a=t["retry-after"];if(s){try{for(var l=vt(s.trim().split(",")),c=l.next();!c.done;c=l.next()){var d=c.value.split(":",2),u=parseInt(d[0],10),h=1e3*(isNaN(u)?60:u);try{for(var p=(r=void 0,vt(d[1].split(";"))),f=p.next();!f.done;f=p.next())this._rateLimits[f.value||"all"]=new Date(o+h)}catch(t){r={error:t}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return!0}return!!a&&(this._rateLimits.all=new Date(o+(0,w.JY)(o,a)),!0)},t}(),oe=(0,w.Rf)(),se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mt(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(ee(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(te(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:jt()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new W((function(e,i){oe.fetch(t.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})})).catch(i)})))},e}(ie),ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mt(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(ee(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(te(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new W((function(e,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(t.body)})))},e}(ie),le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mt(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=Yt(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return(0,w.EG)(r,{handled:!0,type:"generic"}),r.level=Ot.Error,n&&n.event_id&&(r.event_id=n.event_id),W.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=Ot.Info),function(t,e,n,r){void 0===n&&(n=Ot.Info);var i=Xt(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),W.resolve(i)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=_t(_t({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):Dt()?new se(e):new ae(e)},e}(Nt);function ce(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function de(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ce(arguments[e]));return t}function ue(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ut();if(r&&r[t])return r[t].apply(r,de(e));throw Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function he(t,e){var n;try{throw Error("Sentry syntheticException")}catch(t){n=t}return ue("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function pe(t){ue("withScope",t)}var fe=0;function ge(){return fe>0}function me(){fe+=1,setTimeout((function(){fe-=1}))}function _e(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(t){return _e(t,e)}));return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(t){throw me(),pe((function(n){n.addEventProcessor((function(t){var n=_t({},t);return e.mechanism&&((0,w.Db)(n,void 0,void 0),(0,w.EG)(n,e.mechanism)),n.extra=_t(_t({},n.extra),{arguments:r}),n})),he(t)})),t}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}var ve,ye,we,be=(0,w.Rf)(),xe={},Ee={};function ke(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(xe[t.type]=xe[t.type]||[],xe[t.type].push(t.callback),function(t){if(!Ee[t])switch(Ee[t]=!0,t){case"console":"console"in be&&["debug","info","warn","error","log","assert"].forEach((function(t){t in be.console&&Q(be.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Se("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,be.console,n)}}))}));break;case"dom":!function(){if("document"in be){var t=Se.bind(null,"dom"),e=Re(t,!0);be.document.addEventListener("click",e,!1),be.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=be[e]&&be[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Q(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){var a=Re(t);s.handler=a,e.call(this,n,a,i)}s.refCount+=1}catch(t){}return e.call(this,n,r,i)}})),Q(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[e];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in be){var t=[],e=[],n=XMLHttpRequest.prototype;Q(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,s=r[1];o.__sentry_xhr__={method:O(r[0])?r[0].toUpperCase():r[0],url:r[1]},O(s)&&"POST"===o.__sentry_xhr__.method&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var a=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}try{var n=t.indexOf(o);if(-1!==n){t.splice(n);var i=e.splice(n)[0];o.__sentry_xhr__&&void 0!==i[0]&&(o.__sentry_xhr__.body=i[0])}}catch(t){}Se("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?Q(o,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(o,e)}})):o.addEventListener("readystatechange",a),n.apply(o,r)}})),Q(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.push(this),e.push(r),Se("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}}();break;case"fetch":(function(){if(!Dt())return!1;var t=(0,w.Rf)();if(Ut(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Ut(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){T.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e})()&&Q(be,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:Te(e),url:Ce(e)},startTimestamp:Date.now()};return Se("fetch",F({},r)),t.apply(be,e).then((function(t){return Se("fetch",F(F({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Se("fetch",F(F({},r),{endTimestamp:Date.now(),error:t})),t}))}}));break;case"history":!function(){if(function(){var t=(0,w.Rf)(),e=t.chrome;return!(e&&e.app&&e.app.runtime||!("history"in t)||!t.history.pushState||!t.history.replaceState)}()){var t=be.onpopstate;be.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=be.location.href,i=ve;if(ve=r,Se("history",{from:i,to:r}),t)return t.apply(this,e)},Q(be.history,"pushState",e),Q(be.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var i=ve,o=r+"";ve=o,Se("history",{from:i,to:o})}return t.apply(this,e)}}}();break;case"error":Ae=be.onerror,be.onerror=function(t,e,n,r,i){return Se("error",{column:r,error:i,line:n,msg:t,url:e}),!!Ae&&Ae.apply(this,arguments)};break;case"unhandledrejection":Oe=be.onunhandledrejection,be.onunhandledrejection=function(t){return Se("unhandledrejection",t),!Oe||Oe.apply(this,arguments)};break;default:T.warn("unknown instrumentation type:",t)}}(t.type))}function Se(t,e){var n,r;if(t&&xe[t])try{for(var i=H(xe[t]||[]),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(e)}catch(e){T.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Z(s)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Te(t){return void 0===t&&(t=[]),"Request"in be&&$(t[0],Request)&&t[0].method?(t[0].method+"").toUpperCase():t[1]&&t[1].method?(t[1].method+"").toUpperCase():"GET"}function Ce(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in be&&$(t[0],Request)?t[0].url:t[0]+""}function Re(t,e){return void 0===e&&(e=!1),function(n){if(n&&we!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===ye||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(we,n))&&(t({event:n,name:r,global:e}),we=n),clearTimeout(ye),ye=be.setTimeout((function(){ye=void 0}),1e3)}}}var Ie,Ae=null,Oe=null,Le=function(){function t(e){this.name=t.id,this._options=_t({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&ut().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,w.jH)(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&ke({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,wt(e))},type:"console"}),this._options.dom&&ke({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,wt(e))},type:"dom"}),this._options.xhr&&ke({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,wt(e))},type:"xhr"}),this._options.fetch&&ke({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,wt(e))},type:"fetch"}),this._options.history&&ke({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,wt(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Ot.fromString(t.level),message:X(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(X(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}ut().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=q(t.event.target?t.event.target:t.event)}catch(t){e="<unknown>"}0!==e.length&&ut().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,o=e.body;ut().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:o})}},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?ut().addBreadcrumb({category:"fetch",data:t.fetchData,level:Ot.Error,type:"http"},{data:t.error,input:t.args}):ut().addBreadcrumb({category:"fetch",data:_t(_t({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=(0,w.Rf)(),n=t.from,r=t.to,i=(0,w.en)(e.location.href),o=(0,w.en)(n),s=(0,w.en)(r);o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),ut().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),Ne=function(t){function e(e){return void 0===e&&(e={}),t.call(this,le,e)||this}return mt(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),(0,w.Rf)().document&&(this._isEnabled()?function(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new ne(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else T.error("Missing dsn option in showReportDialog call");else T.error("Missing eventId option in showReportDialog call")}(_t(_t({},t),{dsn:t.dsn||this.getDsn()})):T.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Le);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(At),De=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ue=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){M((function(e){var n=ut();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),o=i?i.getOptions():{},s=r._mergeOptions(o);if(r._shouldDropEvent(e,s))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(T.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,w.jH)(t)),!0):this._isIgnoredError(t,e)?(T.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,w.jH)(t)),!0):this._isDeniedUrl(t,e)?(T.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,w.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(T.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,w.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return K(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return K(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return K(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Et(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Et(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Et(this._options.ignoreErrors||[],t.ignoreErrors||[],De),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=e.value,i=void 0===r?"":r;return[""+i,(void 0===n?"":n)+": "+i]}catch(e){return T.error("Cannot extract message for event "+(0,w.jH)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return T.error("Cannot extract url for event "+(0,w.jH)(t)),null}},t.id="InboundFilters",t}(),je=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Ie=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return Ie.apply(n,t)}},t.id="FunctionToString",t}(),$e=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],We=function(){function t(e){this.name=t.id,this._options=_t({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=(0,w.Rf)();this._options.setTimeout&&Q(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Q(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Q(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Q(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:$e).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=_e(r,{mechanism:{data:{function:Z(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,_e(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Z(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=(0,w.Rf)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Q(n,"addEventListener",(function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=_e(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Z(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,_e(r,{mechanism:{data:{function:"addEventListener",handler:Z(r),target:t},handled:!0,type:"instrument"}}),i)}})),Q(n,"removeEventListener",(function(t){return function(e,n,r){var i,o=n;try{var s=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;s&&t.call(this,e,s,r)}catch(t){}return t.call(this,e,o,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in r&&"function"==typeof r[t]&&Q(r,t,(function(e){var n={mechanism:{data:{function:t,handler:Z(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=Z(e.__sentry_original__)),_e(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),Pe=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=_t({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(T.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(T.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(ke({callback:function(n){var r=n.error,i=ut(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(o&&!ge()&&!s){var a=i.getClient(),l=L(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(Yt(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,w.EG)(l,{handled:!1,type:"onerror"}),i.captureEvent(l,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(ke({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var i=ut(),o=i.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!o||ge()||s)return!0;var a=i.getClient(),l=L(r)?e._eventFromRejectionWithPrimitive(r):Yt(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});l.level=Ot.Error,(0,w.EG)(l,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(l,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,o=I(t)?t.message:t;if(O(o)){var s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(i=s[1],o=s[2])}return this._enhanceEventWithInitialFrame({exception:{values:[{type:i||"Error",value:o}]}},e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,s=O(e)&&e.length>0?e:(0,w.l4)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:s,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),Be=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){M((function(e,n){var r=ut().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&$(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=wt(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!$(t[e],Error)||n.length+1>=this._limit)return n;var r=Gt(Ht(t[e]));return this._walkErrorTree(t[e],e,wt([r],n))},t.id="LinkedErrors",t}(),Me=(0,w.Rf)(),ze=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){M((function(e){var n,r,i;if(ut().getIntegration(t)){if(!Me.navigator&&!Me.location&&!Me.document)return e;var o=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=Me.location)||void 0===r?void 0:r.href),s=(Me.document||{}).referrer,a=(Me.navigator||{}).userAgent,l=_t(_t(_t({},null===(i=e.request)||void 0===i?void 0:i.headers),s&&{Referer:s}),a&&{"User-Agent":a}),c=_t(_t({},o&&{url:o}),{headers:l});return _t(_t({},e),{request:c})}return e}))},t.id="UserAgent",t}(),Fe=[new Ue,new je,new We,new Le,new Pe,new Be,new ze];const He=new class{updateId(t){this.id=t}getId(){return this.id}},qe=new class{constructor(){this.hub=new lt;const t=new Ne({dsn:"https://95fde7f79195421a8ad953aca5f8e430@sentry.pegah.tech/68",release:"1.74.4",beforeSend(t,e){var n;return(null===(n=t.extra)||void 0===n?void 0:n.loaderTag)?t:null},integrations:Fe,enabled:!0});this.hub.bindClient(t)}captureError(t,e){this.hub.withScope((n=>{e&&n.setExtra("data",e),n.setExtra("loaderTag",!0),n.setExtra("userAgent",navigator.userAgent),n.setUser({id:He.getId()}),this.hub.captureException(t)}))}captureLog(t,e,n=Ot.Log){this.hub.withScope((r=>{e&&r.setExtra("data",e),r.setExtra("loaderTag",!0),r.setExtra("userAgent",navigator.userAgent),r.setUser({id:He.getId()}),this.hub.captureMessage(t,n)}))}captureImageUnloadLog(t,e,n,r,i,o){this.hub.withScope((s=>{s.setTag("error_type","image_load_failed"),s.setTag("widget_info_id",e),s.setTag("widget_type_id",n),s.setTag("widget_tag_name",r),s.setExtra("image_url",t),s.setExtra("loaderTag",!0),s.setExtra("publisher",i),s.setExtra("userAgent",navigator.userAgent),s.setUser({id:He.getId()}),this.hub.captureMessage(o||"Image failed to load: "+t,Ot.Error)}))}};function Je(t){if(!t)return;const e=document.createElement("iframe");e.style.display="none",e.src=t;try{document.body.appendChild(e)}catch(e){qe.captureError(e,t)}}const Ge="MEDIAAD_USER_ID",Ve=["musicdel","beys-music","alismusic","musics-fa","up-music"],Ze=["golishi.ir","tejarateideal.ir","aayenehfarda.ir","blog.jabeh.com","sabkeideal.com","plus.parsine.com","eghtesadeiran.com"],Ye=new class{constructor(){this.isLocalStorageSupported=!0,this.checkLocalStorageSupport()}set(t,e,n){this.setLocalStorage(t,e,n),this.setCookie(t,e,n)}get(t){var e;return null!==(e=this.isLocalStorageSupported?Ye.getLocalStorage(t):Ye.getCookie(t))&&void 0!==e?e:void 0}setLocalStorage(t,e,n){if(!this.isLocalStorageSupported)return;const r={value:e};null!=n&&(r.timestamp=Date.now()+24*n*60*60*1e3),localStorage.setItem(t,JSON.stringify(r))}getLocalStorage(t){if(!this.isLocalStorageSupported)return;const e=localStorage.getItem(t);if(e)try{const n=JSON.parse(e);return"object"!=typeof n&&"MED-notif-timer"!==t?(qe.captureLog("ls item is not object",{lsItem:e,parsedObject:n}),e):!n.timestamp||Date.now()<n.timestamp?n.value:void 0}catch(n){if(e)try{localStorage.removeItem(t),this.set(t,e)}catch(t){qe.captureError(t,{lsItem:e})}return e}}setCookie(t,e,n){let r="";if(n){const t=new Date;t.setTime(t.getTime()+24*n*60*60*1e3),r="; expires="+t.toUTCString()}document.cookie=t+"="+(e||"")+r+"; path=/"}getCookie(t){const e=t+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let r=n[t];for(;" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return null}deleteCookie(t){document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}checkLocalStorageSupport(){try{localStorage.setItem("t","t"),localStorage.removeItem("t"),this.isLocalStorageSupported=!0}catch(t){this.isLocalStorageSupported=!1}}},Xe=new class{constructor(){this.localStorageFingerPrintKey=Ge,this.FID_WAIT_TIMEOUT=500,this.observers=[],this.isInitialized=!1;const t=Ye.get(this.localStorageFingerPrintKey);this.updateFingerprint(t)}set(t){Ye.set(Ge,t,365e5),this.updateFingerprint(t)}observeFingerprint(){const e=new t;if(this.fingerprint)e.resolve(this.fingerprint);else{this.observers.push(e);const t=this.observers.length-1;setTimeout((()=>{e.resolve(this.fingerprint),this.observers.splice(t,1)}),this.FID_WAIT_TIMEOUT)}return e}updateFingerprint(t){this.fingerprint=t,He.updateId(t),this.observers.forEach((t=>{t.resolve(this.fingerprint)})),this.observers=[]}appendFingerprintIframe(){this.isInitialized||(d.getInstance(),Je("https://mediacdn.mediaad.org/static/fingerprint.html"),this.isInitialized=!0)}},Ke=n(591),Qe=new class{constructor(){this.axiosIns=f().create(),this.handleAxiosError=(t,e)=>{},m()(this.axiosIns,{retries:5,retryDelay:m().exponentialDelay,retryCondition:t=>!1})}getLoaderJsData(t){const e=`https://ma-cdn.pegah.tech/serve/${t}/publisher.json`;return this.axiosIns({method:"get",url:e,responseType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((({data:t})=>t)).catch((t=>{this.handleAxiosError(t,e)}))}getWidgetsRecomads(t,n){return this.post(`/v1/${u.uniqueName}/serve${n?"?fid="+n:""}`,{os:u.osName,device:u.deviceName,url:e.getCurrentPageUrl(),widgets:t,version:"2.0",screenHeight:window.screen.height,screenWidth:window.screen.width})}informPageLoaded(){var t;(null===(t=window)||void 0===t?void 0:t.mediaadPageLoaded)||(window.mediaadPageLoaded=!0,Xe.observeFingerprint().then((t=>{let n={l:e.getCurrentPageUrl()};if(t&&(n.m=t,Ye.isLocalStorageSupported)){const t=localStorage.getItem("_yngt"),e=localStorage.getItem("sid");t&&(n.y=t),e&&(n.s=e)}this.post(`/v2/events/${u.uniqueName}/page/loaded`,n,{responseType:"text"}).then((n=>{if(n&&n.length>0){let r=new Blob([Ke.gzip(document.documentElement.outerHTML,{to:"string"})]);this.post(`/v2/events/${u.uniqueName}/page/content?t=${n}&l=${e.getCurrentPageUrlEncoded()}${t?"&fid="+t:""}`,r,{headers:{"Content-Type":"application/octet-stream","Content-Encoding":"gzip"}})}}))})))}informSessionCompleted(){return this.get("/v1/events/session/10")}verifyRecomads(t){return Qe.post("/v1/events/verify",t)}logOddEntrance(t){return Qe.post("/v1/events/odd",{url:t})}get(t){return this.axiosIns({method:"get",url:`${u.API_URL}${t}`,responseType:"json",withCredentials:!0,headers:{"Content-Type":"application/json; charset=utf-8"}}).then((t=>t.data)).catch((e=>{this.handleAxiosError(e,t)}))}post(t,e,{responseType:n="json",headers:r={"Content-Type":"application/json; charset=utf-8"}}={}){return this.axiosIns({method:"post",url:`${u.API_URL}${t}`,data:e,responseType:n,withCredentials:!0,headers:r}).then((t=>t.data)).catch((e=>{this.handleAxiosError(e,t)}))}};var tn=Qe;const en=new class{getNewElementsAndUpdateOldList(t,e){const n=e.filter((e=>!t.some((t=>t.domElement.id===e.domElement.id))));return n.forEach((e=>{t.push(e)})),n}isIframeMode(){return!!window.mediaadIframeReferer}doOnIframeOrParent({onIframe:t,onParent:e}){window.location!==window.parent.location?t&&t():e&&e()}tryNTimes(t,e,n){let r=2;n();const i=setInterval((()=>{const e=n();(r===t||e)&&clearInterval(i),r++}),e);return i}getClickCoordinations(t){let e=-1,n=-1;if("touchstart"==t.type){const r=t.touches[0];e=r.pageX,n=r.pageY}else"mousedown"==t.type&&(e=t.clientX,n=t.clientY);return{x:e,y:n}}formatNumber(t){return(null==t?void 0:(""+t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"))||""}calculateDiscount(t,e){return t&&e?Math.round((t-e)/t*100):0}extractDomain(){const t=t=>(t=>{const e=t.match(/mediaad.org\/serve\/([^/]+)\/loader\.js/);return null==e?void 0:e[1]})(t)||(t=>{const e=t.match(/sanjagh.com\/assets\/sdk\/([^/]+)\/client\.js/);return null==e?void 0:e[1]})(t);if(document.currentScript instanceof HTMLScriptElement){const e=t(document.currentScript.src);if(e)return e}const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const r=e.item(n);if(!r||!r.src)continue;const i=t(r.src);if(i)return i}return location.hostname.replace(/^www\./,"")}onDocumentReady(t){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(t,1):document.addEventListener("DOMContentLoaded",t)}};var nn=new class{constructor(){this._isWatching=!1,this._recomadIds=[],this._recomadWidgetMap=new Map}get isWatching(){return this._isWatching}watchRecomad(){const t=new URL(window.location.href),e=new URLSearchParams(t.search),n=e.get("sch"),r=e.get("rid");if(n&&r){const t=r.split(",");this._recomadIds.push(...t),this._isWatching=!0}}mapRecomadIdToWidgetId(t){this._recomadWidgetMap.clear(),Array.from(Object.entries(t).map((([t,e])=>e)).map((t=>t.recomads))).reduce(((t,e)=>[...t,...e]),[]).filter((t=>this._recomadIds.includes(t.rid))).forEach((t=>{var e;const{wid:n,rid:r}=t,i=null===(e=u.loaderJsData)||void 0===e?void 0:e.allWidgets.find((t=>t.id===n));r&&i&&this._recomadWidgetMap.set(r,i.tag_name)})),this._recomadWidgetMap.forEach((t=>{const e=document.querySelector("#"+t);setTimeout((()=>{null==e||e.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})}),1e3)}))}},rn=new class{constructor(){this.confirmed_widgets=[]}confirmWidget(t){const e=t.custom_selector?t.custom_selector:"#"+t.tag_name;if(en.isIframeMode()&&!0!==window.iframeAutoVerify)return;if(this.checkIfWidgetIsSlider(t))return;const n=setInterval((()=>{if(!this.confirmed_widgets.includes(t)&&u.loaded_widget_ids.includes(t.id)&&this.isScrolledIntoView(document.querySelector(e))){if(u.iframe_widgets.includes(t.tag_name))return this.confirmed_widgets.push(t),void document.getElementById(t.tag_name+"-iframe").contentWindow.postMessage(`mediaadVerifyEvent:${t.id}:${t.tag_name}`,"*");clearInterval(n),this.confirmed_widgets.push(t),this.sendImpressionConfirmationForWidget(t)}}),15)}isScrolledIntoView(t){if(!(null==t?void 0:t.getBoundingClientRect))return!1;const e=t.getBoundingClientRect().top;return e>=0&&(window.innerHeight<=50||e<=window.innerHeight)}isBottomScrolledIntoView(t){if(!(null==t?void 0:t.getBoundingClientRect))return!1;const e=t.getBoundingClientRect().bottom;return e>=0&&(window.innerHeight<=50||e<=window.innerHeight)}sendImpressionConfirmationForWidget(t){const e=u.all_recomads[t.tag_name];e&&this.checkVerifyRecomadCondition(e,t)}createImpressionIframe(t){const e=t.filter((({trackers:t})=>!!t)).map((t=>t.trackers));e&&e.length>0&&e.filter((t=>t.impression)).forEach((t=>{const e=t.impression;e&&e.length>0&&e.forEach((t=>Je(t)))}))}appendPixel(t){if(!t)return;const e=document.createElement("img");e.width=1,e.height=1,e.src=t,document.body.appendChild(e)}checkForVerify(t,e){return new Promise(((n,r)=>{t.length<1&&r("no recomad"),t.forEach(((t,i,o)=>{const s=setInterval((()=>{this.isBottomScrolledIntoView(document.getElementById(t.iid))&&(t.iid||r("no iid"),e.push(t),clearInterval(s),i===o.length-1&&n(!0),setTimeout((()=>{n(!1)}),1e3))}),15)}))}))}verifyRecomads(t){const e=t.filter((({iid:t})=>!u.verify_sent_map[t])).map((t=>t.iid));e.length>0&&(t.forEach((t=>{t.burl&&""!==t.burl.trim()&&this.appendPixel(t.burl)})),tn.verifyRecomads(e).then((()=>{t=[],e.forEach((t=>{u.verify_sent_map[t]=!0}))}))),this.createImpressionIframe(t)}checkVerifyRecomadCondition(t,e){if(!t||t.length<=0)return;let n=[],r=[];this.checkForVerify(t,n).then((i=>{i||(r=t.filter((t=>n.indexOf(t)<0)),this.checkVerifyRecomadCondition(r,e)),this.verifyRecomads(n)})).catch((t=>{qe.captureError(t)}))}checkForRemainingRecomads(t,e){const n=setInterval((()=>{u.loaded_widget_ids.includes(t.id)&&this.isBottomScrolledIntoView(document.getElementById(t.tag_name))&&(this.verifyRecomads(e),clearInterval(n))}),15)}verifyStickyBanners(t){this.verifyRecomads([t])}checkIfWidgetIsSlider(t){var e;const n=null===(e=u.loaderJsData)||void 0===e?void 0:e.contentWidgetsList.find((e=>e.id===t.id));return!!n&&n.rolling_banner}};function on(t,e,n,r="100%",i="auto"){const o=document.getElementById(e);if(null!=o){if(u.iframe_widgets.push(e),u.loaded_widget_ids.push(t),rn.confirmWidget({id:t,tag_name:e}),!o)return;o.innerHTML="<iframe src='"+n+"' id='"+e+"-iframe' width='"+r+"' height='"+i+"' frameborder='0' scrolling='no'>"}}function sn(t,e){t=(t=t.replace(/\.ni-/g,`#${e} .ni-`)).replace(/\.tapsell-/g,`#${e} .tapsell-`),u.style.appendChild(document.createTextNode(t)),u.bodyStyle.appendChild(document.createTextNode(t))}const an=new class{checkForImageLoadError(t,e,n,r,i){const o=t.querySelectorAll("img");null==o||o.forEach((t=>{t.onerror=()=>{qe.captureImageUnloadLog(null==e?void 0:e.imageUrl,null==n?void 0:n.id,null==n?void 0:n.widget_type.id,(null==n?void 0:n.tag_name)||(null==e?void 0:e.tag_name)||void 0,r,"Image failed to load: "+i)}}))}};function ln(){}function cn(t){return t()}function dn(){return Object.create(null)}function un(t){t.forEach(cn)}function hn(t){return"function"==typeof t}function pn(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function fn(t){return 0===Object.keys(t).length}function gn(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function mn(t,e){t.appendChild(e)}function _n(t,e,n){t.insertBefore(e,n||null)}function vn(t){t.parentNode.removeChild(t)}function yn(t){return document.createElement(t)}function wn(t){return document.createTextNode(t)}function bn(){return wn(" ")}function xn(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function En(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function kn(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}new Set;class Sn{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=yn(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)_n(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(vn)}}let Tn;function Cn(t){Tn=t}new Set;const Rn=[],In=[],An=[],On=[],Ln=Promise.resolve();let Nn=!1;function Dn(t){An.push(t)}let Un=!1;const jn=new Set;function $n(){if(!Un){Un=!0;do{for(let t=0;t<Rn.length;t+=1){const e=Rn[t];Cn(e),Wn(e.$$)}for(Cn(null),Rn.length=0;In.length;)In.pop()();for(let t=0;t<An.length;t+=1){const e=An[t];jn.has(e)||(jn.add(e),e())}An.length=0}while(Rn.length);for(;On.length;)On.pop()();Nn=!1,Un=!1,jn.clear()}}function Wn(t){if(null!==t.fragment){t.update(),un(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Dn)}}const Pn=new Set;let Bn,Mn;function zn(t,e){t&&t.i&&(Pn.delete(t),t.i(e))}function Fn(t,e,n,r){if(t&&t.o){if(Pn.has(t))return;Pn.add(t),Bn.c.push((()=>{Pn.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Hn(t){t&&t.c()}function qn(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=t.$$;i&&i.m(e,n),r||Dn((()=>{const e=o.map(cn).filter(hn);s?s.push(...e):un(e),t.$$.on_mount=[]})),a.forEach(Dn)}function Jn(t,e){const n=t.$$;null!==n.fragment&&(un(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Gn(t,e,n,r,i,o,s=[-1]){const a=Tn;Cn(t);const l=t.$$={fragment:null,ctx:null,props:o,update:ln,not_equal:i,bound:dn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:e.context||[]),callbacks:dn(),dirty:s,skip_bound:!1};let c=!1;if(l.ctx=n?n(t,e.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return l.ctx&&i(l.ctx[e],l.ctx[e]=o)&&(!l.skip_bound&&l.bound[e]&&l.bound[e](o),c&&function(t,e){-1===t.$$.dirty[0]&&(Rn.push(t),Nn||(Nn=!0,Ln.then($n)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],l.update(),c=!0,un(l.before_update),l.fragment=!!r&&r(l.ctx),e.target){if(e.hydrate){const t=Array.from(e.target.childNodes);l.fragment&&l.fragment.l(t),t.forEach(vn)}else l.fragment&&l.fragment.c();e.intro&&zn(t.$$.fragment),qn(t,e.target,e.anchor,e.customElement),$n()}Cn(a)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(Mn=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(cn).filter(hn);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){un(this.$$.on_disconnect)}$destroy(){Jn(this,1),this.$destroy=ln}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class Vn{$destroy(){Jn(this,1),this.$destroy=ln}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Zn(t){let e,n,r,i;const o=t[9].default,s=function(t,e,n,r){if(t){const r=gn(t,e,n,null);return t[0](r)}}(o,t,t[8]),a=s||function(t){let e,n;return{c(){n=wn(""),e=new Sn(n)},m(r,i){e.m(t[0],r,i),_n(r,n,i)},p(t,n){1&n&&e.p(t[0])},d(t){t&&vn(n),t&&e.d()}}}(t);return{c(){e=yn("a"),a&&a.c(),En(e,"class",t[1]),En(e,"href",t[3]),En(e,"target","_blank"),En(e,"rel","nofollow"),En(e,"style",t[2]),En(e,"id",t[4])},m(o,s){_n(o,e,s),a&&a.m(e,null),n=!0,r||(i=[xn(e,"mousedown",t[6]),xn(e,"touchstart",t[6]),xn(e,"click",t[5])],r=!0)},p(t,[r]){s?s.p&&(!n||256&r)&&function(t,e,n,r,i,o,s){const a=function(t,e,n,r){return e.dirty}(0,r);if(a){const i=gn(e,n,r,null);t.p(i,a)}}(s,o,t,t[8]):a&&a.p&&1&r&&a.p(t,r),(!n||2&r)&&En(e,"class",t[1]),(!n||8&r)&&En(e,"href",t[3]),(!n||4&r)&&En(e,"style",t[2])},i(t){n||(zn(a,t),n=!0)},o(t){Fn(a,t),n=!1},d(t){t&&vn(e),a&&a.d(t),r=!1,un(i)}}}function Yn(t,e,n){let{$$slots:i={},$$scope:o}=e,{recomad:s}=e,{child:a}=e,{className:l}=e,{style:c}=e,d=!1;const{iid:h,cid:p,rid:f,wid:g,t:m,url:_,trackers:v,cls:y,kp:w}=s,b=h.endsWith("-SABA_VISION")||h.endsWith("-SMARTECH");let x=b?_:E();function E(t,e="click"){var n;const i=r.getWidgetInfo(g,null===(n=u.loaderJsData)||void 0===n?void 0:n.allWidgets);let o=null==i?void 0:i.system_api_url;const s=function(){const t=document.documentElement,e=document.body;return{height:Math.max(e.scrollHeight,t.scrollHeight),width:Math.max(e.scrollWidth,t.scrollWidth)}}();let a=`${o}/v2/events/${e}?iid=${h}&rid=${f}&cid=${p}&wid=${g}&t=${m}&redir=${encodeURIComponent(_)}&h=${s.height}&w=${s.width}`;if(y&&(a+="&cls="+y),w&&w.length&&(a+="&kp="+w.join(",")),!t)return a;const{x:l,y:c}=en.getClickCoordinations(t);return-1!=l&&-1!=c?`${a}&v=true&x=${Math.round(l)}&y=${Math.round(c)}`:a+"&v=true"}return-1===u.impressionTrackerHistory.indexOf(h)&&null!=v&&((v.impression||[]).forEach((t=>{t===String&&Je(t)})),u.impressionTrackerHistory.push(h)),t.$$set=t=>{"recomad"in t&&n(7,s=t.recomad),"child"in t&&n(0,a=t.child),"className"in t&&n(1,l=t.className),"style"in t&&n(2,c=t.style),"$$scope"in t&&n(8,o=t.$$scope)},[a,l,c,x,h,function(t){if(t.stopPropagation(),Je(s.trc1),Je(s.trc2),b){let e=E(t,"clicked");tn.get(e.substring(u.API_URL.length))}},t=>{b||d||(n(3,x=E(t)),d=!0)},s,o,i]}var Xn=class extends Vn{constructor(t){super(),Gn(this,t,Yn,Zn,pn,{recomad:7,child:0,className:1,style:2})}};class Kn{constructor(t){this.loaderJsData=t}createBannerWidget(){const t=[],e=[];this.loaderJsData.bannerWidgetsList.forEach((n=>{if(!n.iframe_mode||en.isIframeMode()){const r=document.getElementById(n.tag_name);if(!r||!Qn(r))return;n.auto_fill&&(t.push(n.id),e.push(n.css_style))}else{u.iframe_banner_widgets.push(n.tag_name);const t=(""+n.widget_type.banner_size_type.persian_name).split("×");let e=t[0];2866==n.id&&(e=250),on(n.id,n.tag_name,""+n.iframe_url,e,t[1])}})),t.length>0&&tr(t,e)}}function Qn(t){if(!(t instanceof HTMLElement))return!1;if((e=t).offsetWidth>0||e.offsetHeight>0)return!0;var e;if(1!=t.nodeType||t==document.body)return!0;if("none"!==t.style.display&&"hidden"!==t.style.visibility)return Qn(t.parentNode);var n=getComputedStyle(t,null);return"none"!==n.display&&"hidden"!==n.visibility&&Qn(t.parentNode)}function tr(t,e){t.forEach(((t,n)=>{const i=u.widget_to_recomads[t];i&&(u.loaded_widget_ids.push(i.wid),function(t,e){const n=document.getElementById(t.tag_name);if(!n)return;if(n.innerHTML="",t.fallback||n.setAttribute("style","display: inline-block"),e&&sn(e,t.tag_name),!t.content)return;const i=(new DOMParser).parseFromString(t.content,"text/html"),o=i.getElementsByClassName("mediaad-bnr-img")[0],s=i.getElementById("mediaad-sticky-bnr-"+t.tag_name);if(en.extractDomain().includes("music-fa.com")&&s){const t=document.querySelector("#musicplayer"),e=new MutationObserver(((t,e)=>{var n;const r=t.find((t=>{var e;return"musicplayer"===(null===(e=t.target)||void 0===e?void 0:e.getAttribute("id"))}));r&&(null===(n=r.target)||void 0===n?void 0:n.getAttribute("src"))?s.style.setProperty("bottom","108px","important"):s.style.setProperty("bottom","0px","important")}));t&&e.observe(t,{attributeFilter:["src"],attributeOldValue:!0})}if(t.fallback){let e=i.querySelectorAll("div[class^=tapsell]")[0];if(t.tag_name){let n,i=document.getElementById(t.tag_name);t.content.match(/\bsticky\b/i)&&i&&(i.style.position="fixed",i.style.width="100%",i.style.bottom="0",i.style.left="50%",i.style.transform="translateX(-50%)",setTimeout((()=>{var t;n=null===(t=document.querySelector('[class*="-sticky"]'))||void 0===t?void 0:t.clientHeight,i&&(i.style.height=n+"px")}),0));const o=function(t){const e=r.getWidgetInfo(t.wid),n=d.getInstance(null==e?void 0:e.user_group);let i=document.createElement("div");return i.classList.add("mediaad-bnr-close"),i.setAttribute("onclick",`document.getElementById('${t.tag_name}').style.display='none'`),i.style.width="17px",i.style.height="17px",i.style.backgroundImage=`url("${n.assets().closeBnr}")`,i.style.backgroundSize="contain",i.style.position="absolute",i.style.top="-17px",i.style.left="0",i.style.borderRadius="4px 4px 0 0",i.style.border="solid 1px #d8d8d8",i.style.borderBottom="0",i}(t);null==i||i.appendChild(o),new Xn({target:i,props:{recomad:t,child:e.outerHTML,style:"text-decoration: none"}}),setTimeout((()=>{i.removeChild(e),er(i,t)}))}}else{const e=o.parentNode;e.removeChild(o),new Xn({target:e,props:{recomad:t,child:o.outerHTML}})}s&&rn.verifyStickyBanners(t);for(let t=0;t<i.body.childNodes.length;t++)n.appendChild(i.body.childNodes[t]);er(n,t),u.all_recomads[t.tag_name]=[t],u.postResizeMessage(t.tag_name)}(i,e[n]),rn.confirmWidget({id:i.wid,tag_name:i.tag_name}))}))}function er(t,e,n){var r,i;an.checkForImageLoadError(t,e,{id:""+e.wid,widget_type:{id:(null===(r=e.display_type)||void 0===r?void 0:""+r)||"unknown"}},null===(i=u.loaderJsData)||void 0===i?void 0:i.uniqueName,"banner")}var nr=Object.prototype.toString,rr=Array.isArray||function(t){return"[object Array]"===nr.call(t)};function ir(t){return"function"==typeof t}function or(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function sr(t,e){return null!=t&&"object"==typeof t&&e in t}var ar=RegExp.prototype.test,lr=/\S/,cr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},dr=/\s*/,ur=/\s+/,hr=/\s*=/,pr=/\s*\}/,fr=/#|\^|\/|>|\{|&|=|!/;function gr(t){this.string=t,this.tail=t,this.pos=0}function mr(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function _r(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}gr.prototype.eos=function(){return""===this.tail},gr.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},gr.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},mr.prototype.push=function(t){return new mr(t,this)},mr.prototype.lookup=function(t){var e,n,r=this.cache;if(r.hasOwnProperty(t))e=r[t];else{for(var i,o,s,a=this,l=!1;a;){if(t.indexOf(".")>0)for(i=a.view,o=t.split("."),s=0;null!=i&&s<o.length;)s===o.length-1&&(l=sr(i,o[s])||null!=(n=i)&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(o[s])),i=i[o[s++]];else i=a.view[t],l=sr(a.view,t);if(l){e=i;break}a=a.parent}r[t]=e}return ir(e)&&(e=e.call(this.view)),e},_r.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},_r.prototype.parse=function(t,e){var n=this.templateCache,r=t+":"+(e||vr.tags).join(":"),i=void 0!==n,o=i?n.get(r):void 0;return null==o&&(o=function(t,e){if(!t)return[];var n,r,i,o,s=!1,a=[],l=[],c=[],d=!1,u=!1,h="",p=0;function f(){if(d&&!u)for(;c.length;)delete l[c.pop()];else c=[];d=!1,u=!1}function g(t){if("string"==typeof t&&(t=t.split(ur,2)),!rr(t)||2!==t.length)throw Error("Invalid tags: "+t);n=RegExp(or(t[0])+"\\s*"),r=RegExp("\\s*"+or(t[1])),i=RegExp("\\s*"+or("}"+t[1]))}g(e||vr.tags);for(var m,_,v,y,w,b,x=new gr(t);!x.eos();){if(m=x.pos,v=x.scanUntil(n))for(var E=0,k=v.length;E<k;++E)o=y=v.charAt(E),function(t,e){return ar.call(t,e)}(lr,o)?(u=!0,s=!0,h+=" "):(c.push(l.length),h+=y),l.push(["text",y,m,m+1]),m+=1,"\n"===y&&(f(),h="",p=0,s=!1);if(!x.scan(n))break;if(d=!0,_=x.scan(fr)||"name",x.scan(dr),"="===_?(v=x.scanUntil(hr),x.scan(hr),x.scanUntil(r)):"{"===_?(v=x.scanUntil(i),x.scan(pr),x.scanUntil(r),_="&"):v=x.scanUntil(r),!x.scan(r))throw Error("Unclosed tag at "+x.pos);if(w=">"==_?[_,v,m,x.pos,h,p,s]:[_,v,m,x.pos],p++,l.push(w),"#"===_||"^"===_)a.push(w);else if("/"===_){if(!(b=a.pop()))throw Error('Unopened section "'+v+'" at '+m);if(b[1]!==v)throw Error('Unclosed section "'+b[1]+'" at '+m)}else"name"===_||"{"===_||"&"===_?u=!0:"="===_&&g(v)}if(f(),b=a.pop())throw Error('Unclosed section "'+b[1]+'" at '+x.pos);return function(t){for(var e,n=[],r=n,i=[],o=0,s=t.length;o<s;++o)switch((e=t[o])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}(function(t){for(var e,n,r=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}(l))}(t,e),i&&n.set(r,o)),o},_r.prototype.render=function(t,e,n,r){var i=this.getConfigTags(r),o=this.parse(t,i),s=e instanceof mr?e:new mr(e,void 0);return this.renderTokens(o,s,n,t,r)},_r.prototype.renderTokens=function(t,e,n,r,i){for(var o,s,a,l="",c=0,d=t.length;c<d;++c)a=void 0,"#"===(s=(o=t[c])[0])?a=this.renderSection(o,e,n,r,i):"^"===s?a=this.renderInverted(o,e,n,r,i):">"===s?a=this.renderPartial(o,e,n,i):"&"===s?a=this.unescapedValue(o,e):"name"===s?a=this.escapedValue(o,e,i):"text"===s&&(a=this.rawValue(o)),void 0!==a&&(l+=a);return l},_r.prototype.renderSection=function(t,e,n,r,i){var o=this,s="",a=e.lookup(t[1]);if(a){if(rr(a))for(var l=0,c=a.length;l<c;++l)s+=this.renderTokens(t[4],e.push(a[l]),n,r,i);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)s+=this.renderTokens(t[4],e.push(a),n,r,i);else if(ir(a)){if("string"!=typeof r)throw Error("Cannot use higher-order sections without the original template");null!=(a=a.call(e.view,r.slice(t[3],t[5]),(function(t){return o.render(t,e,n,i)})))&&(s+=a)}else s+=this.renderTokens(t[4],e,n,r,i);return s}},_r.prototype.renderInverted=function(t,e,n,r,i){var o=e.lookup(t[1]);if(!o||rr(o)&&0===o.length)return this.renderTokens(t[4],e,n,r,i)},_r.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),i=t.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!n)&&(i[o]=r+i[o]);return i.join("\n")},_r.prototype.renderPartial=function(t,e,n,r){if(n){var i=this.getConfigTags(r),o=ir(n)?n(t[1]):n[t[1]];if(null!=o){var s=t[4],a=o;0==t[5]&&s&&(a=this.indentPartial(o,s,t[6]));var l=this.parse(a,i);return this.renderTokens(l,e,n,a,r)}}},_r.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},_r.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||vr.escape,i=e.lookup(t[1]);if(null!=i)return"number"==typeof i&&r===vr.escape?i+"":r(i)},_r.prototype.rawValue=function(t){return t[1]},_r.prototype.getConfigTags=function(t){return rr(t)?t:t&&"object"==typeof t?t.tags:void 0},_r.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!rr(t)?t.escape:void 0};var vr={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){yr.templateCache=t},get templateCache(){return yr.templateCache}},yr=new _r;vr.clearCache=function(){return yr.clearCache()},vr.parse=function(t,e){return yr.parse(t,e)},vr.render=function(t,e,n,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(rr(i=t)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return yr.render(t,e,n,r)},vr.escape=function(t){return(t+"").replace(/[&<>"'`=\/]/g,(function(t){return cr[t]}))},vr.Scanner=gr,vr.Context=mr,vr.Writer=_r;var wr,br=vr,xr=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},Er=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};!function(t){t.style="link",t.script="src"}(wr||(wr={}));const kr=(t,e)=>{const n=document.querySelector(t);n&&n.appendChild(e)},Sr=({type:t,id:e})=>{const n=document.createElement(t);return e&&n.setAttribute("id",e),n},Tr=t=>!!document.querySelector("#"+t),Cr=t=>{var{id:e,type:n}=t,r=Er(t,["id","type","query"]);const i=document.querySelector("#"+e),[o]=Object.keys(r),s=r[o];i.getAttribute(wr[n])!==s&&i.setAttribute(wr[n],s)};Cr.content=t=>{var{id:e}=t,n=Er(t,["id","type","query"]);const r=document.querySelector("#"+e),[i]=Object.keys(n);r.textContent=n[i]};const Rr=({id:t,type:e,query:n,url:r})=>{if(t&&Tr(t))return void Cr({id:t,type:e,query:n,url:r});const i=Sr({type:e,id:t});i.setAttribute(wr[e],r),kr(n,i)};Rr.content=({id:t,type:e,query:n,textContent:r})=>{if(t&&Tr(t))return void Cr.content({id:t,type:e,query:n,textContent:r});const i=Sr({type:e,id:t});i.textContent=r,kr(n,i)},Rr.contentFromServer=({id:t,type:e,query:n,scriptUrl:r})=>xr(void 0,void 0,void 0,(function*(){try{const i=yield(t=>xr(void 0,void 0,void 0,(function*(){const e=yield fetch(t);if(!e.ok)throw Error("Failed to fetch resource. Status: "+e.status);return yield e.text()})))(r);Rr.content({id:t,type:e,query:n,textContent:i})}catch(t){(function(t){var e;if(t instanceof Error){const n=(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.toLowerCase())||"";if(n.includes("network")||n.includes("networkerror")||n.includes("offline")||n.includes("connection")||n.includes("aborted")||n.includes("failed")||n.includes("fetch")||n.includes("timeout"))return!0}return!1})(t)||qe.captureError("Error loading "+e,{host:window.location.host,error:t,scriptUrl:r})}}));class Ir{constructor(t,e,n){this.response=t,this.tagName=e,this.widget=n,this.resourceUtils=d.getInstance().withWidgetId(this.response.widget_id),Rr(this.resourceUtils.resourcesConfig().tapsellVideoPlayer);try{this.initNativeVideoWidget()}catch(t){qe.captureError(t,"NativeVideoWidget")}}initNativeVideoWidget(){var t;const e=this.resourceUtils.templatesUrl().nativeVideo,n=document.querySelector("#"+this.tagName);r.getWidgetInfo(this.response.widget_id,null===(t=u.loaderJsData)||void 0===t?void 0:t.allWidgets)&&n&&fetch(e).then((t=>t.text())).then((t=>{const e=this.response.recomads[0],r=[];e.hls_url&&r.push({source:e.hls_url,type:"application/x-mpegURL"}),r.push({source:e.video_url,type:"video/mp4"});let i=br.render(t,{tagName:this.tagName,content:e.title,actionBtn:this.response.call_to_action_button.text,url:e.url,videoUrls:r});n.innerHTML="";const o=document.createRange().createContextualFragment(i);n.appendChild(o);const s=null==n?void 0:n.querySelector(".tapsell-native-video-info"),a=s.parentNode;a.removeChild(s),null==n||n.querySelector(".tapsell-video-content"),i=new Xn({target:a,props:{recomad:this.response.recomads[0],child:s.outerHTML}}),u.loaded_widget_ids.push(this.response.recomads[0].wid),u.all_recomads[this.widget.tag_name]=this.response.recomads,rn.confirmWidget(this.widget),setTimeout((()=>{let t=this.widget.css_style;t&&sn(t,this.widget.tag_name)}),200)}))}}class Ar{constructor(t,e){var n;this.response=t,this.widgetContainer=null,this.resourceUtils=d.getInstance().withWidgetId(t.widget_id),this.widgetInfo=e,this.widgetInfo&&(this.widgetContainer=document.querySelector("#"+(null===(n=this.widgetInfo)||void 0===n?void 0:n.tag_name)),fetch(this.resourceUtils.templatesUrl().notifNative).then((t=>t.text())).then((t=>this.initialize(t))))}widgetShownInLastDay(){const t=new Date;if(!Ye.get("MED-notif-timer"))return Ye.set("MED-notif-timer",""+t.getTime()),!1;const e=localStorage.getItem("MED-notif-timer"),n=Math.abs(t.getTime()-Number(e));return!(Math.ceil(n/36e5)>=24&&(Ye.set("MED-notif-timer",""+t.getTime()),1))}setCssStyleForNotif(){this.widgetInfo.css_style&&u.bodyStyle.appendChild(document.createTextNode(this.widgetInfo.css_style))}initialize(t){var e;if(Ye.getLocalStorage("MED-notif-closed"))return;const{backgroundColor:n,textColor:i,text:o}=this.response.call_to_action_button,s={actionBtnText:o||"ادامه مطلب",actionBtnColor:i||"",actionBtnBackgroundColor:n||""},a=this.response.recomads.map((t=>({imageUrl:t.image_url,title:t.title,content:t.title,contentBtn:t.cta||s.actionBtnText,actionBtnColor:s.actionBtnColor,actionBtnBackgroundColor:s.actionBtnBackgroundColor,tagName:this.widgetInfo.tag_name,price:t.prc&&en.formatNumber(t.prc)+" تومان",oldPrice:t.old_prc&&en.formatNumber(t.old_prc),isProduct:t.is_product,discount:t.old_prc&&en.calculateDiscount(t.old_prc,t.prc),brandLogoUrl:t.logo}))),l=r.getWidgetInfo(this.response.widget_id,null===(e=u.loaderJsData)||void 0===e?void 0:e.allWidgets);if(!l)return;let c=0,d=null;this.setCssStyleForNotif();const h=()=>{var e,n,r,i,o;this.widgetContainer&&(this.widgetContainer.innerHTML="");const s=br.render(t,Object.assign(Object.assign({href:`${l.system_main_site_url}/?utm_source=logo&utm_medium=logo&utm_campaign=${u.uniqueName}`},a[c]),{tagName:this.widgetInfo.tag_name,logoUrl:this.resourceUtils.contentWidgetLogo()})),h=document.createRange().createContextualFragment(s),p=null==h?void 0:h.querySelector(".tapsell-notification-box-img");if(p){const t=p.parentNode;t.removeChild(p),new Xn({target:t,props:{recomad:this.response.recomads[c],child:p.outerHTML}})}const f=null==h?void 0:h.querySelector(".tapsell-notification-photo-cta");if(f){const t=f.parentNode;t.removeChild(f),new Xn({target:t,props:{recomad:this.response.recomads[c],child:f.outerHTML}})}if(an.checkForImageLoadError(h,a[c],this.widgetInfo,null===(e=u.loaderJsData)||void 0===e?void 0:e.uniqueName,"notife native"),null===(n=this.widgetContainer)||void 0===n||n.appendChild(h),32==(null===(i=null===(r=this.widgetInfo)||void 0===r?void 0:r.widget_type)||void 0===i?void 0:i.id)){const t=document.getElementsByClassName("tapsell-notification-photo")[0];t&&t.classList.add("tapsell-notification-photo--left")}const g=null===(o=this.widgetContainer)||void 0===o?void 0:o.querySelector(".tapsell-notification-photo-close-btn");g&&g.addEventListener("click",(()=>{d&&(clearInterval(d),d=null),this.widgetContainer&&this.widgetContainer.remove(),location.href.includes("donya-e-eqtesad.com")&&Ye.setLocalStorage("MED-notif-closed","true",1/24)})),c=(c+1)%a.length};rn.confirmWidget({id:this.widgetInfo.id,tag_name:this.widgetInfo.tag_name,custom_selector:`#${this.widgetInfo.tag_name} .tapsell-notification-photo`}),u.loaded_widget_ids.push(this.response.recomads[0].wid),u.all_recomads[this.widgetInfo.tag_name]=this.response.recomads,h(),d=setInterval(h,3e4)}}class Or{constructor(t){this.widget=t}create(){var t,e,n;this.createRetargetingBanner(null===(t=this.widget.associated_banner)||void 0===t?void 0:t.id,""+(null===(e=this.widget.associated_banner)||void 0===e?void 0:e.tag_name),""+(null===(n=this.widget.associated_banner)||void 0===n?void 0:n.css_style),""+this.widget.tag_name)}createRetargetingBanner(t,e,n,r){const i=document.getElementById(r);if(i){const r=document.createElement("div");r.setAttribute("style","text-align: center!important;");const o=document.createElement("div");o.setAttribute("id",e),i.replaceWith(r),r.appendChild(o),r.appendChild(i),tr(t,[n])}}}class Lr{constructor(t,e){this.widget=e,this.response=t,this.resourceUtils=d.getInstance().withWidgetId(this.response.widget_id),Rr(this.resourceUtils.resourcesConfig().tapsellVideoPlayer);try{this.initNotifVideoWidget()}catch(t){qe.captureError(t,"NotifVideoWidget")}}initNotifVideoWidget(){var t;const e=this.resourceUtils.templatesUrl().notifVideo,n=document.querySelector("#"+this.widget.tag_name);r.getWidgetInfo(this.response.widget_id,null===(t=u.loaderJsData)||void 0===t?void 0:t.allWidgets)&&n&&fetch(e).then((t=>t.text())).then((t=>{let e=br.render(t,{tagName:this.widget.tag_name,title:this.response.recomads[0].title,actionButton:this.response.call_to_action_button.text,url:this.response.recomads[0].url,video:this.response.recomads[0].video_url,isLeft:147==this.widget.widget_type.id});n.innerHTML="";const r=document.createRange().createContextualFragment(e);n.appendChild(r);const i=null==n?void 0:n.querySelector(".tapsell-notification-video-info"),o=i.parentNode;o.removeChild(i),new Xn({target:o,props:{recomad:this.response.recomads[0],child:i.outerHTML}}),u.loaded_widget_ids.push(this.response.recomads[0].wid),u.all_recomads[this.widget.tag_name]=this.response.recomads,rn.confirmWidget(this.widget),setTimeout((()=>{let t=this.widget.css_style;t&&sn(t,this.widget.tag_name)}),200)}))}}class Nr{constructor(t,e){this.resourceUtils=d.getInstance().withWidgetId(t.widget_id),this.response=t,this.widget=e,Rr(this.resourceUtils.resourcesConfig().tapsellVideoPlayer);try{this.initStickyVideoWidget()}catch(t){qe.captureError(t,"StickyVideoWidget")}}initStickyVideoWidget(){var t;const e=this.resourceUtils.templatesUrl().stickyVideo,n=document.querySelector("#"+this.widget.tag_name);r.getWidgetInfo(this.response.widget_id,null===(t=u.loaderJsData)||void 0===t?void 0:t.allWidgets)&&n&&fetch(e).then((t=>t.text())).then((t=>{let e=br.render(t,{tagName:this.widget.tag_name,title:this.response.recomads[0].title,actionButton:this.response.call_to_action_button.text,url:this.response.recomads[0].url,video:this.response.recomads[0].video_url});n.innerHTML="";const r=document.createRange().createContextualFragment(e);n.appendChild(r);const i=null==n?void 0:n.querySelector(".tapsell-sticky-native-video-info"),o=i.parentNode;o.removeChild(i),new Xn({target:o,props:{recomad:this.response.recomads[0],child:i.outerHTML}}),u.loaded_widget_ids.push(this.response.recomads[0].wid),u.all_recomads[this.widget.tag_name]=this.response.recomads,rn.confirmWidget(this.widget),setTimeout((()=>{}),200)}))}}function Dr(t){let e,n;return{c(){e=yn("div"),n=yn("div"),En(n,"class","ni-install-icon"),kn(n,"background","url("+t[1]+")"),kn(n,"background-size","contain"),kn(n,"background-repeat","no-repeat"),En(e,"class","ni-install-top-icon")},m(t,r){_n(t,e,r),mn(e,n)},p:ln,d(t){t&&vn(e)}}}function Ur(t){let e;return{c(){e=yn("div"),e.textContent=""+t[2],En(e,"class","ni-install-title")},m(t,n){_n(t,e,n)},p:ln,d(t){t&&vn(e)}}}function jr(t){let e,n,r,i;return{c(){e=yn("div"),n=yn("div"),r=bn(),i=yn("div"),i.textContent=""+t[5],En(n,"class","ni-install-image"),kn(n,"background-image","url("+t[4]+")"),En(i,"class","ni-install-image-text"),En(e,"class","ni-install-mid")},m(t,o){_n(t,e,o),mn(e,n),mn(e,r),mn(e,i)},p:ln,d(t){t&&vn(e)}}}function $r(t){let e;return{c(){e=yn("div"),e.textContent=""+t[3],En(e,"class","ni-install-button")},m(t,n){_n(t,e,n)},p:ln,d(t){t&&vn(e)}}}function Wr(t){let e,n,r,i,o,s,a,l,c,d,u,h,p,f,g,m,_,v,y,w,b,x,E,k,S;return o=new Xn({props:{className:"ni-install-top-icon-link",recomad:t[0],$$slots:{default:[Dr]},$$scope:{ctx:t}}}),l=new Xn({props:{className:"ni-install-title-link",recomad:t[0],$$slots:{default:[Ur]},$$scope:{ctx:t}}}),y=new Xn({props:{className:"ni-install-mid-link",recomad:t[0],$$slots:{default:[jr]},$$scope:{ctx:t}}}),k=new Xn({props:{className:"ni-install-button-link",recomad:t[0],$$slots:{default:[$r]},$$scope:{ctx:t}}}),{c(){e=yn("div"),n=yn("a"),n.innerHTML='<div class="ni-install-mediaad1"></div> \n    <div class="ni-install-mediaad2"></div>',r=bn(),i=yn("div"),Hn(o.$$.fragment),s=bn(),a=yn("div"),Hn(l.$$.fragment),c=bn(),d=yn("div"),u=bn(),h=yn("div"),p=yn("div"),f=bn(),g=yn("div"),g.textContent=""+t[6],m=bn(),_=yn("div"),v=bn(),Hn(y.$$.fragment),w=bn(),b=yn("div"),x=bn(),E=yn("div"),Hn(k.$$.fragment),En(n,"href","https://mediaad.org"),En(n,"target","_blank"),En(d,"class","ni-install-rate"),kn(d,"background-position-y",t[8]+"px"),En(p,"class","ni-install-store-icon"),kn(p,"background","url("+t[7]+")"),kn(p,"background-repeat","no-repeat"),kn(p,"background-size","contain"),En(g,"class","ni-install-store-text"),En(h,"class","ni-install-store"),En(a,"class","ni-install-top-text"),En(i,"class","ni-install-top"),En(_,"class","ni-clear"),En(b,"class","ni-clear"),En(E,"class","ni-install-bot"),En(e,"class","ni-install")},m(t,T){_n(t,e,T),mn(e,n),mn(e,r),mn(e,i),qn(o,i,null),mn(i,s),mn(i,a),qn(l,a,null),mn(a,c),mn(a,d),mn(a,u),mn(a,h),mn(h,p),mn(h,f),mn(h,g),mn(e,m),mn(e,_),mn(e,v),qn(y,e,null),mn(e,w),mn(e,b),mn(e,x),mn(e,E),qn(k,E,null),S=!0},p(t,[e]){const n={};1&e&&(n.recomad=t[0]),8192&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const r={};1&e&&(r.recomad=t[0]),8192&e&&(r.$$scope={dirty:e,ctx:t}),l.$set(r);const i={};1&e&&(i.recomad=t[0]),8192&e&&(i.$$scope={dirty:e,ctx:t}),y.$set(i);const s={};1&e&&(s.recomad=t[0]),8192&e&&(s.$$scope={dirty:e,ctx:t}),k.$set(s)},i(t){S||(zn(o.$$.fragment,t),zn(l.$$.fragment,t),zn(y.$$.fragment,t),zn(k.$$.fragment,t),S=!0)},o(t){Fn(o.$$.fragment,t),Fn(l.$$.fragment,t),Fn(y.$$.fragment,t),Fn(k.$$.fragment,t),S=!1},d(t){t&&vn(e),Jn(o),Jn(l),Jn(y),Jn(k)}}}function Pr(t,e,n){let{response:r}=e,{recomad:i}=e;const{logo:o,app_name:s,action_button:a}=r,{image_url:l,title:c}=i,{app_market:d,app_market_summary:u}=r,h={myket:"مایکت",playstore:"گوگل پلی",cafebazaar:"کافه بازار"}[d],p="نصب در "+(h||u),f=h?`https://cdn.backtory.com/mediaad/assets/${r.app_market}.png`:r.app_market,g=15*(r.app_rate-5);return t.$$set=t=>{"response"in t&&n(9,r=t.response),"recomad"in t&&n(0,i=t.recomad)},[i,o,s,a,l,c,p,f,g,r]}var Br=class extends Vn{constructor(t){super(),Gn(this,t,Pr,Wr,pn,{response:9,recomad:0})}};function Mr(t){let e,n,r,i,o,s,a,l,c,d,u=t[4]&&t[5]&&function(t){let e,n;return{c(){e=yn("img"),e.src!==(n=t[4])&&En(e,"src",n),En(e,"alt","logo"),En(e,"class","mediaad-native-widget-logo svelte-1brew63")},m(t,n){_n(t,e,n)},p:ln,d(t){t&&vn(e)}}}(t),h=t[6]&&function(t){let e,n;return{c(){e=yn("div"),n=yn("span"),n.textContent=t[6]+"%",En(n,"class","svelte-1brew63"),En(e,"class","mediaad-native-discount-container svelte-1brew63")},m(t,r){_n(t,e,r),mn(e,n)},p:ln,d(t){t&&vn(e)}}}(t);return{c(){e=yn("div"),n=yn("div"),r=yn("div"),i=yn("span"),i.textContent=""+t[2],o=bn(),u&&u.c(),s=bn(),h&&h.c(),l=bn(),c=yn("div"),d=yn("p"),d.textContent=""+t[2],En(r,"class","ni-widget-content-img svelte-1brew63"),En(r,"style",a=`background-image: url(${t[3]});\n                 background-size: contain; background-position: center; background-repeat: no-repeat`),En(n,"class","ni-img-wrapper"),kn(n,"background-color","white"),En(d,"class","ni-ellipsis svelte-1brew63"),En(c,"class","ni-img-title"),En(e,"class","ni-post-wrapper")},m(t,a){_n(t,e,a),mn(e,n),mn(n,r),mn(r,i),mn(r,o),u&&u.m(r,null),mn(r,s),h&&h.m(r,null),mn(e,l),mn(e,c),mn(c,d)},p(t,e){t[4]&&t[5]&&u.p(t,e),t[6]&&h.p(t,e)},d(t){t&&vn(e),u&&u.d(),h&&h.d()}}}function zr(t){let e,n,r,i,o;return i=new Xn({props:{className:"ni-widget-content-link",recomad:t[0],$$slots:{default:[Mr]},$$scope:{ctx:t}}}),{c(){e=yn("div"),n=yn("div"),r=yn("div"),Hn(i.$$.fragment),En(r,"title",t[2]),En(n,"class","ni-widget-content"),En(e,"class","ni-widget-img-content-box"),En(e,"style",t[1])},m(t,s){_n(t,e,s),mn(e,n),mn(n,r),qn(i,r,null),o=!0},p(t,[n]){const r={};1&n&&(r.recomad=t[0]),1024&n&&(r.$$scope={dirty:n,ctx:t}),i.$set(r),(!o||2&n)&&En(e,"style",t[1])},i(t){o||(zn(i.$$.fragment,t),o=!0)},o(t){Fn(i.$$.fragment,t),o=!1},d(t){t&&vn(e),Jn(i)}}}function Fr(t,e,n){let{recomad:r}=e,{styleText:i}=e;const{title:o,image_url:s,old_prc:a,prc:l,logo:c,is_product:d}=r,u=a?Math.round((a-l)/a*100):null;return t.$$set=t=>{"recomad"in t&&n(0,r=t.recomad),"styleText"in t&&n(1,i=t.styleText)},[r,i,o,s,c,d,u]}var Hr=class extends Vn{constructor(t){var e;super(),document.getElementById("svelte-1brew63-style")||((e=yn("style")).id="svelte-1brew63-style",e.textContent=".ni-widget-content-img.svelte-1brew63.svelte-1brew63{position:relative}.mediaad-native-widget-logo.svelte-1brew63.svelte-1brew63{bottom:0;left:0;position:absolute;width:20%!important}.mediaad-native-discount-container.svelte-1brew63.svelte-1brew63{background-color:#f16136;border:1px solid #fff;border-radius:12px;display:grid;font-size:0;height:22px;line-height:22px;place-content:center;place-items:center;position:absolute;right:0;top:0;width:40px}.mediaad-native-discount-container.svelte-1brew63 span.svelte-1brew63{color:#fff;font-size:12px;font-weight:700}.ni-ellipsis.svelte-1brew63.svelte-1brew63{-webkit-line-clamp:3;-webkit-box-orient:vertical;padding-block:0!important;display:-webkit-box;height:4.5em!important;line-height:1.5!important;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}@media only screen and (max-width:680px){.ni-ellipsis.svelte-1brew63.svelte-1brew63{-webkit-line-clamp:3;-webkit-box-orient:vertical;padding-block:0!important;display:-webkit-box;height:4.5em!important;line-height:1.5!important;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}}@media only screen and (max-width:575px){.ni-ellipsis.svelte-1brew63.svelte-1brew63{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;height:3em!important;line-height:1.5!important;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}}",mn(document.head,e)),Gn(this,t,Fr,zr,pn,{recomad:0,styleText:1})}};function qr(t){if(!t)return;const e=t.currentTarget,n=e.getAttribute("href");if(!n)return;const{x:r,y:i}=en.getClickCoordinations(t);e.setAttribute("href",-1!=r&&-1!=i?`${n}&v=true&x=${Math.round(r)}&y=${Math.round(i)}`:n+"&v=true")}function Jr(t,e="click"){var n;const{iid:i,cid:o,rid:s,wid:a,t:l,url:c,cls:d}=t,h=r.getWidgetInfo(a,null===(n=u.loaderJsData)||void 0===n?void 0:n.allWidgets);let p=null==h?void 0:h.system_api_url;const f=function(){const t=document.documentElement,e=document.body;return{height:Math.max(e.scrollHeight,t.scrollHeight),width:Math.max(e.scrollWidth,t.scrollWidth)}}();let g=`${p}/v2/events/${e}?iid=${i}&rid=${s}&cid=${o}&wid=${a}&t=${l}&redir=${encodeURIComponent(c)}&h=${f.height}&w=${f.width}`;return d&&(g+="&cls="+d),g}class Gr{constructor(t,e){var n;this.response=t,this.widgetInfo=e,this.widgetContainer=null,this.resourceUtils=d.getInstance().withWidgetId(t.widget_id),this.widgetInfo&&(this.widgetContainer=document.querySelector("#"+(null===(n=this.widgetInfo)||void 0===n?void 0:n.tag_name)),fetch(this.resourceUtils.templatesUrl().nativeSlider).then((t=>t.text())).then((t=>this.initialize(t))))}initialize(t){var e,n;const{backgroundColor:i="",textColor:o="",text:s="ادامه مطلب"}=this.response.call_to_action_button||{},a={actionBtnText:this.response.product_native&&s?s:"ادامه مطلب",actionBtnColor:this.response.product_native&&o?o:"",actionBtnBackgroundColor:this.response.product_native&&i?i:""},l=this.response.recomads.map((t=>{const e=t.old_prc?Math.round((t.old_prc-t.prc)/t.old_prc*100):null;return{image:t.is_product?t.image_url:t.image[0].url,title:t.title,cta:t.cta||a.actionBtnText,actionBtnColor:a.actionBtnColor,actionBtnBackgroundColor:a.actionBtnBackgroundColor,url:Jr(t),brandLogoUrl:t.logo,price:t.prc&&en.formatNumber(t.prc)+" تومان",oldPrice:t.old_prc&&en.formatNumber(t.old_prc),isProduct:t.is_product,discount:e}})),c=r.getWidgetInfo(this.response.widget_id,null===(e=u.loaderJsData)||void 0===e?void 0:e.allWidgets);if(!c)return;const d=br.render(t,{href:`${c.system_main_site_url}/?utm_source=logo&utm_medium=logo&utm_campaign=${u.uniqueName}`,isBanner:!0,list:l,tagName:this.widgetInfo.tag_name,logoUrl:this.resourceUtils.contentWidgetLogo()}),h=document.createRange().createContextualFragment(d),p=h.querySelectorAll(".tapsell-native-slider-item");an.checkForImageLoadError(h,this.response,this.widgetInfo,null===(n=u.loaderJsData)||void 0===n?void 0:n.uniqueName,"NativeSlider"),this.widgetContainer.appendChild(h);const f=window.innerHeight,g=Array.from(p);this.interval=setInterval((()=>{let t=null;g.forEach(((e,n)=>{const r="true"===e.getAttribute("in-view"),i=e.getAttribute("href"),{bottom:o}=e.getBoundingClientRect();if(i&&r&&o>=0&&o<=f){const e=new URL(i),r=new URLSearchParams(e.search).get("iid");r&&(setTimeout((()=>this.verifyRecomad([r])),500),t=n)}})),null!==t&&(g.splice(t,1),t=null),0===g.length&&clearInterval(this.interval)}),15),Array.from(p).forEach((t=>{t.addEventListener("click",qr,!0)})),this.widgetInfo.css_style&&u.bodyStyle.appendChild(document.createTextNode(this.widgetInfo.css_style))}verifyRecomad(t){const e=t.filter((t=>!u.verify_sent_map[t]));e.length>0&&tn.verifyRecomads(e).then((()=>{e.forEach((t=>{u.verify_sent_map[t]=!0}))}))}}class Vr{constructor(){this.createContentWidget=t=>{const{tag_name:e}=t;Vr.setStyles(t),Array.from(document.querySelectorAll(`[id="${e}"]`)).forEach((n=>{if(!(n instanceof Element))return;const i=n,o=u.widget_to_recomads[t.id],s=o.recomads.filter((t=>{let e=t.iid.split("-");return!(parseInt(e[4],16)==parseInt(e[0],16)*parseInt(e[1],16)-parseInt(e[2],16)+parseInt(e[3],16))})),a=o.recomads.filter((t=>{let e=t.iid.split("-");return parseInt(e[4],16)==parseInt(e[0],16)*parseInt(e[1],16)-parseInt(e[2],16)+parseInt(e[3],16)}));a.length>0&&a.forEach((t=>{var n;let i=document.createElement("a");const o=r.getWidgetInfo(t.wid,null===(n=u.loaderJsData)||void 0===n?void 0:n.allWidgets);if(o){let n=o.system_api_url;const r=this.documentWidthAndHeight();i.href=`${n}/v2/events/click?iid=${t.iid}&rid=${t.rid}&cid=${t.cid}&wid=${t.wid}&t=${t.t}&redir=${encodeURIComponent(t.url)}&h=${r.height}&w=${r.width}`,i.classList.add("ni-widget-content-link"),i.style.display="block",i.style.width="1px",i.style.height="1px",i.style.backgroundColor="transparent";let s=document.querySelector("#"+e);setTimeout((()=>{s&&s.querySelector(".ni-widget-content-box")&&s.querySelector(".ni-widget-content-box").appendChild(i)}),1e3)}}));const l=Object.assign(Object.assign({},o),{recomads:s});u.all_recomads[t.tag_name]=s,Vr.afterGetRecomads(t),this.makeContentWidget(t,l,i)}))}}static setStyles({tag_name:t,css_style:e,id:n}){var i;let o=(e||"").replace(/ni-mediaad-logo/g,"REMOVEDSTYLE");const s=r.getWidgetInfo(n,null===(i=u.loaderJsData)||void 0===i?void 0:i.allWidgets);s&&(o+=d.getInstance(s.user_group).productRetargetStyle(),sn(o,t))}documentWidthAndHeight(){const t=document.documentElement,e=document.body;return{height:Math.max(e.scrollHeight,t.scrollHeight),width:Math.max(e.scrollWidth,t.scrollWidth)}}static afterGetRecomads(t){rn.confirmWidget(t),u.postResizeMessage(t.tag_name)}static contentWidget(t,e,n){var i;t.className+="ni-related-container",t.style.display="block";const o=r.getWidgetInfo(n.widget_id,null===(i=u.loaderJsData)||void 0===i?void 0:i.allWidgets);if(!o)return;const s=d.getInstance(null==o?void 0:o.user_group);fetch(100===e.widget_type.id?s.templatesUrl().nativeContent:s.templatesUrl().contentWidgetTest2).then((t=>t.text())).then((r=>{var i;const a="YELLOADWISE"===(null==o?void 0:o.user_group);if(100===e.widget_type.id){t.innerHTML=br.render(r,{href:`${o.system_main_site_url}/?utm_source=logo&utm_medium=logo&utm_campaign=${u.uniqueName}`,contentBtn:n.action_button,content:n.recomads[0].title,imageUrl:n.recomads[0].image_url,backgroundUrl:s.contentWidgetLogo(),isYellowAds:a});const l=null==t?void 0:t.querySelector(".tapsell-native-content-box"),c=l.parentNode;c.removeChild(l),new Xn({target:c,props:{recomad:n.recomads[0],child:l.outerHTML}}),an.checkForImageLoadError(t,n.recomads[0],{id:""+e.id,widget_type:{id:""+e.widget_type.id}},null===(i=u.loaderJsData)||void 0===i?void 0:i.uniqueName,"inner text native")}else{t.innerHTML=br.render(r,{href:`${o.system_main_site_url}/?utm_source=logo&utm_medium=logo&utm_campaign=${u.uniqueName}`,title:o.system_persian_name,headingTitle:e.heading_title,backgroundUrl:s.contentWidgetLogo(),isYellowAds:a});const i=t.getElementsByClassName("ni-widget-content-box")[0];n.recomads.forEach((t=>{new Hr({target:i,props:{recomad:t,styleText:937===n.widget_id?"":`min-width:100px;margin:0.5%;width:${100/e.column_count-1}%`}})}))}}))}getWidgetRecomads(e){const n=new t,{id:r}=e;return Xe.observeFingerprint().then((t=>{tn.getWidgetsRecomads([r],t).then((t=>{if(null==t?void 0:t[r]){const i=t[r];u.all_recomads[e.tag_name]=i.recomads;try{Vr.afterGetRecomads(e),n.resolve(i)}catch(t){qe.captureError("ERROR getRecomadData: "+t.message,t),n.reject(t)}}else qe.captureError("RESPONSE is null",{recomads:t})}))})),n}makeContentWidget(t,e,n){const{rolling_banner:r,tag_name:i,widgetTypeName:o}=t;u.loaded_widget_ids.push(e.widget_id),u.all_recomads[i]=e.recomads,0!==e.recomads.length&&(r?new Gr(e,t):33!==o?Vr.contentWidget(n,t,e):this.fillInstallationWidget(e,n))}fillInstallationWidget(t,e){e.className+=" ni-related-container",e.style.display="block";const n=t.recomads.find((t=>t));n&&new Br({target:e,props:{response:t,recomad:n}})}}var Zr=new Vr;function Yr(t){let e,n,r,i;return{c(){e=yn("div"),n=yn("div"),n.textContent=""+t[1],r=bn(),i=yn("div"),i.innerHTML='<span>نمایش مطلب</span> \n        <span class="mediaad-pause-menu-action-icon svelte-12wl4lz">››</span>',En(i,"class","mediaad-pause-menu-action"),En(e,"class","mediaad-pause-menu-title svelte-12wl4lz")},m(t,o){_n(t,e,o),mn(e,n),mn(e,r),mn(e,i)},p:ln,d(t){t&&vn(e)}}}function Xr(t){let e,n,r,i,o,s,a;return s=new Xn({props:{className:"mediaad-pause-menu-link",recomad:t[0],$$slots:{default:[Yr]},$$scope:{ctx:t}}}),{c(){e=yn("div"),n=yn("div"),r=yn("img"),o=bn(),Hn(s.$$.fragment),En(r,"class","mediaad-pause-menu-image svelte-12wl4lz"),r.src!==(i=t[2])&&En(r,"src",i),En(r,"alt",t[1]),En(n,"class","mediaad-pause-menu-image-container svelte-12wl4lz"),En(e,"class","mediaad-pause-menu-recomad svelte-12wl4lz")},m(t,i){_n(t,e,i),mn(e,n),mn(n,r),mn(e,o),qn(s,e,null),a=!0},p(t,[e]){const n={};1&e&&(n.recomad=t[0]),8&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){a||(zn(s.$$.fragment,t),a=!0)},o(t){Fn(s.$$.fragment,t),a=!1},d(t){t&&vn(e),Jn(s)}}}function Kr(t,e,n){let{recomad:r}=e;const{title:i,image_url:o}=r;return t.$$set=t=>{"recomad"in t&&n(0,r=t.recomad)},[r,i,o]}var Qr=class extends Vn{constructor(t){var e;super(),document.getElementById("svelte-12wl4lz-style")||((e=yn("style")).id="svelte-12wl4lz-style",e.textContent=".mediaad-pause-menu-recomad.svelte-12wl4lz{-webkit-box-flex:0;background:#fff;border-bottom:3px solid var(--color,#00b896);border-radius:6px;-webkit-box-shadow:0 1.6px 1.6px rgba(0,0,0,.2),0 5.4px 5.4px rgba(0,0,0,.3),0 24px 24px rgba(0,0,0,.5),0 0 0 3px hsla(0,0%,100%,.3411764705882353);box-shadow:0 1.6px 1.6px rgba(0,0,0,.2),0 5.4px 5.4px rgba(0,0,0,.3),0 24px 24px rgba(0,0,0,.5),0 0 0 3px hsla(0,0%,100%,.3411764705882353);-ms-flex:0 0 49%;flex:0 0 49%;margin:0;min-width:0;padding:0;position:relative;width:auto}.mediaad-pause-menu-image-container.svelte-12wl4lz{border-radius:6px;overflow:hidden}.mediaad-pause-menu-image.svelte-12wl4lz{display:block;margin:0;max-width:100%;-o-object-fit:cover;object-fit:cover}.mediaad-pause-menu-title.svelte-12wl4lz{font-family:var(--font-family);font-size:14px;line-height:1.5}.mediaad-pause-menu-link{color:#fff}.mediaad-pause-menu-action{background:var(--color,#00b896);border-radius:32px;-webkit-box-shadow:inset 40px 0 40px -40px rgba(0,0,0,.2),0 3px 8px rgba(0,0,0,.4);box-shadow:inset 40px 0 40px -40px rgba(0,0,0,.2),0 3px 8px rgba(0,0,0,.4);color:#fff;cursor:pointer;line-height:24px;margin:0;padding:4px 16px;text-decoration:none;text-shadow:0 1px 3px rgba(0,0,0,.3333333333333333);-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease;white-space:nowrap}.mediaad-pause-menu-action-icon.svelte-12wl4lz{display:inline-block;font-family:Arial,sans-serif;font-size:24px;letter-spacing:-3px!important;line-height:14px;margin:0 4px 0 -2px;text-shadow:0 1px 2px rgba(0,0,0,.3333333333333333);vertical-align:-3px}@media screen and (min-width:577px){.mediaad-pause-menu-title.svelte-12wl4lz{background:rgba(0,0,0,.5);bottom:0;-webkit-box-shadow:inset 0 -80px 40px -40px rgba(0,0,0,.8);box-shadow:inset 0 -80px 40px -40px rgba(0,0,0,.8);color:#fff;left:-1px;padding:4px 12px 14px;position:absolute;right:-1px;text-shadow:0 1px 2px #000,0 2px 4px rgba(0,0,0,.7),0 2px 4px rgba(0,0,0,.7)}.mediaad-pause-menu-action{bottom:-18px;left:20px;position:absolute}.mediaad-pause-menu-recomad.svelte-12wl4lz{-webkit-box-flex:0;border-bottom:3px solid var(--color,#00b896);-ms-flex:0 0 49%;flex:0 0 49%}.mediaad-pause-menu-link:hover{font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.26666666666666666),0 2px 4px rgba(0,0,0,.3),0 2px 4px rgba(0,0,0,.3)}.mediaad-pause-menu-link:hover .mediaad-pause-menu-action{-webkit-box-shadow:inset 20px 0 20px -20px #fff,0 3px 8px rgba(0,0,0,.4),inset 0 0 3px -1px #fff;box-shadow:inset 20px 0 20px -20px #fff,0 3px 8px rgba(0,0,0,.4),inset 0 0 3px -1px #fff;color:#fff;text-decoration:none}}@media screen and (max-width:576px){.mediaad-pause-menu-recomad.svelte-12wl4lz{-webkit-box-flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex:1 0 100%;flex:1 0 100%;height:var(--mobile-recomad-height)}.mediaad-pause-menu-recomad.svelte-12wl4lz:last-child{display:none!important;margin-top:24px}.mediaad-pause-menu-image-container.svelte-12wl4lz{-webkit-box-flex:1;border-radius:0 6px 6px 0;-ms-flex:1 0 auto;flex:1 0 auto}.mediaad-pause-menu-image.svelte-12wl4lz{height:var(--mobile-recomad-height)}.mediaad-pause-menu-title.svelte-12wl4lz{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-box-pack:justify;-ms-flex-pack:justify;color:#000;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%;justify-content:space-between;padding:8px}.mediaad-pause-menu-action{-ms-flex-item-align:end;align-self:flex-end;display:inline-block}}",mn(document.head,e)),Gn(this,t,Kr,Xr,pn,{recomad:0})}};function ti(t,e,n){const r=t.slice();return r[13]=e[n],r}function ei(t){let e,n;return e=new Qr({props:{recomad:t[13]}}),{c(){Hn(e.$$.fragment)},m(t,r){qn(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.recomad=t[13]),e.$set(r)},i(t){n||(zn(e.$$.fragment,t),n=!0)},o(t){Fn(e.$$.fragment,t),n=!1},d(t){Jn(e,t)}}}function ni(t){let e,n,r,i,o,s,a,l,c,d,u,h=t[1],p=[];for(let e=0;e<h.length;e+=1)p[e]=ei(ti(t,h,e));const f=t=>Fn(p[t],1,1,(()=>{p[t]=null}));return{c(){e=yn("div"),n=yn("div"),r=yn("span"),r.textContent="×",i=bn(),o=yn("span"),o.textContent=""+t[2],s=bn(),a=yn("div");for(let t=0;t<p.length;t+=1)p[t].c();En(r,"class","mediaad-pause-menu-close svelte-210by6"),En(o,"class","mediaad-pause-menu-header-title svelte-210by6"),En(n,"class","mediaad-pause-menu-header svelte-210by6"),En(a,"class","mediaad-pause-menu-body svelte-210by6"),En(e,"class","mediaad-pause-menu-container svelte-210by6"),En(e,"style",l=t[0]?"display:none!important;visibility:hidden!important;opacity:0!important;":"")},m(l,h){_n(l,e,h),mn(e,n),mn(n,r),mn(n,i),mn(n,o),mn(e,s),mn(e,a);for(let t=0;t<p.length;t+=1)p[t].m(a,null);c=!0,d||(u=xn(r,"click",t[3]),d=!0)},p(t,[n]){if(2&n){let e;for(h=t[1],e=0;e<h.length;e+=1){const r=ti(t,h,e);p[e]?(p[e].p(r,n),zn(p[e],1)):(p[e]=ei(r),p[e].c(),zn(p[e],1),p[e].m(a,null))}for(Bn={r:0,c:[],p:Bn},e=h.length;e<p.length;e+=1)f(e);Bn.r||un(Bn.c),Bn=Bn.p}(!c||1&n&&l!==(l=t[0]?"display:none!important;visibility:hidden!important;opacity:0!important;":""))&&En(e,"style",l)},i(t){if(!c){for(let t=0;t<h.length;t+=1)zn(p[t]);c=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)Fn(p[t]);c=!1},d(t){t&&vn(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(p,t),d=!1,u()}}}function ri(t,e,n){let r,{widgetData:i}=e,{videoElement:o}=e,{hostElm:s}=e,a=!0,l=[];const{heading_title:c}=i,d=o.parentNode;function u(){n(0,a=!0),s.style.setProperty("display","none","important")}function h(){n(0,a=!1),s.style.setProperty("display","block","important")}function p(){u()}return s.className="mediaad-pause-menu",u(),d.classList.add("video-container-parent"),"static"===getComputedStyle(d).position&&(d.style.position="relative"),o.addEventListener("play",p),o.addEventListener("pause",(function(){o.currentTime<2||4!==o.readyState||(0===l.length||!r||Date.now()-r>3e5?Zr.getWidgetRecomads(i).then((t=>{0!==t.recomads.length?(r=Date.now(),n(1,l=t.recomads),h()):u()})):h())})),o.paused||p(),t.$$set=t=>{"widgetData"in t&&n(5,i=t.widgetData),"videoElement"in t&&n(6,o=t.videoElement),"hostElm"in t&&n(4,s=t.hostElm)},[a,l,c,function(t){t.stopPropagation(),t.stopImmediatePropagation(),u()},s,i,o]}var ii=class extends Vn{constructor(t){var e;super(),document.getElementById("svelte-210by6-style")||((e=yn("style")).id="svelte-210by6-style",e.textContent=".mediaad-pause-menu{--color:#00b896;--font-family:inherit;--mobile-recomad-height:110px;direction:rtl;font-family:var(--font-family);left:50%;max-height:300px;max-width:740px;position:absolute;text-align:right;top:20%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:85%;z-index:999999999}.mediaad-pause-menu,.mediaad-pause-menu *{-webkit-box-sizing:border-box;box-sizing:border-box}.mediaad-pause-menu-container.svelte-210by6{background:rgba(0,0,0,.7333333333333333);-webkit-box-shadow:0 0 50px 32px rgba(0,0,0,.5333333333333333);box-shadow:0 0 50px 32px rgba(0,0,0,.5333333333333333);position:relative}.mediaad-pause-menu-body.svelte-210by6{-webkit-box-pack:justify;-ms-flex-pack:justify;-ms-flex-wrap:wrap;flex-wrap:wrap;justify-content:space-between;max-width:100%}.mediaad-pause-menu-body.svelte-210by6,.mediaad-pause-menu-header.svelte-210by6{display:-webkit-box;display:-ms-flexbox;display:flex}.mediaad-pause-menu-header.svelte-210by6{position:absolute;top:-30px}.mediaad-pause-menu-close.svelte-210by6,.mediaad-pause-menu-header.svelte-210by6{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.mediaad-pause-menu-close.svelte-210by6{-webkit-box-pack:center;-ms-flex-pack:center;background:#fff;border-radius:4px;-webkit-box-shadow:0 1.6px 1.6px rgba(0,0,0,.2),0 5.4px 5.4px rgba(0,0,0,.3),0 24px 24px rgba(0,0,0,.5);box-shadow:0 1.6px 1.6px rgba(0,0,0,.2),0 5.4px 5.4px rgba(0,0,0,.3),0 24px 24px rgba(0,0,0,.5);color:#df0000;cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-family:Arial,sans-serif;font-size:24px;height:24px;justify-content:center;line-height:24px;margin-left:8px;-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease;width:24px}.mediaad-pause-menu-close.svelte-210by6:hover{background-color:var(--color);color:#fff}.mediaad-pause-menu-header-title.svelte-210by6{color:#fff;font-size:16px;text-shadow:0 1px 2px #000,0 2px 4px rgba(0,0,0,.7),0 2px 4px rgba(0,0,0,.7),0 2px 20px #000}@media screen and (max-width:576px){.mediaad-pause-menu-body.svelte-210by6{display:block}}",mn(document.head,e)),Gn(this,t,ri,ni,pn,{widgetData:5,videoElement:6,hostElm:4})}};class oi{constructor(t,e){this.widget=t,this.loaderJsData=e,this.initiate()}initiate(){en.tryNTimes(300,1e3,(()=>{var t;return this.video=document.querySelector(this.loaderJsData.videoCssSelector),!!(null===(t=this.video)||void 0===t?void 0:t.parentNode)&&(this.createWidgetContainerIfNotExist(this.video.parentNode),u.loaded_widget_ids.push(this.widget.id),this.createPauseMenuWidget(),!0)}))}createWidgetContainerIfNotExist(t){this.widgetContainer=t.querySelector("#"+this.widget.tag_name),this.widgetContainer||(t.insertAdjacentHTML("beforeend",`<div id="${this.widget.tag_name}"></div>`),this.widgetContainer=t.querySelector("#"+this.widget.tag_name))}createPauseMenuWidget(){if(!this.widgetContainer||this.widgetContainer.hasChildNodes())return;const{widget_type:{id:t,display_form_category:e}}=this.widget,n=Object.assign(Object.assign({},this.widget),{css_style:this.loaderJsData.videoCssStyle,widgetTypeName:t,displayFormCategory:e});Vr.setStyles(n),new ii({target:this.widgetContainer,props:{hostElm:this.widgetContainer,widgetData:n,videoElement:this.video}})}}class si{constructor(t,e){this.response=t,this.widget=e,this.resourceUtils=d.getInstance().withWidgetId(t.widget_id),this.widgetContainer=document.querySelector("#"+this.widget.tag_name),this.response&&this.widgetContainer&&fetch(this.resourceUtils.templatesUrl().nativeProduct).then((t=>t.text())).then((t=>this.initialize(t)))}initialize(t){const{backgroundColor:e="",textColor:n="",text:r="ادامه مطلب"}=this.response.call_to_action_button||{},i={isSlider:!0,sponsorName:"",sponsorHeadline:this.widget.heading_title,list:this.response.recomads.map((t=>({link:Jr(t),iid:t.iid,off:0!=en.calculateDiscount(t.old_prc,t.prc)?(""+en.calculateDiscount(t.old_prc,t.prc)).concat("%"):"",oldPrice:en.formatNumber(t.old_prc),price:en.formatNumber(t.prc).concat(" تومان"),title:t.title,image:t.image_url,sponsorName:t.title})))};this.widgetContainer.innerHTML="";const o=br.render(t,i),s=document.createRange().createContextualFragment(o);this.widgetContainer.append(s);const a=this.widgetContainer.querySelectorAll(".tapsell-native-product-item"),l=window.innerHeight,c=Array.from(a);c.forEach((t=>{t.addEventListener("click",qr,!0)})),this.interval=setInterval((()=>{let t=null;c.forEach(((e,n)=>{const r="true"===e.getAttribute("in-view"),i=e.getAttribute("href"),{bottom:o}=e.getBoundingClientRect();if(i&&r&&o>=0&&o<=l){const e=new URL(i),r=new URLSearchParams(e.search).get("iid");r&&(setTimeout((()=>this.verifyRecomad([r])),500),t=n)}})),null!==t&&(c.splice(t,1),t=null),0===c.length&&clearInterval(this.interval)}),15)}verifyRecomad(t){const e=t.filter((t=>!u.verify_sent_map[t]));e.length>0&&tn.verifyRecomads(e).then((()=>{e.forEach((t=>{u.verify_sent_map[t]=!0}))}))}}class ai{constructor(e){this.loaderJsData=e,this.enrichWidgetData=t=>Object.assign(Object.assign({},t),{widgetTypeName:t.widget_type.id,displayFormCategory:t.widget_type.display_form_category}),this.createContentWidget=e=>{(function({tag_name:e,id:n}){const r=new t;return en.tryNTimes(1e4,15,(()=>{const t=document.getElementById(e);return!!t&&(!u.createdWidgetTags.includes(e)&&n in u.widget_to_recomads&&(t.innerHTML="",u.createdWidgetTags.push(e),r.resolve(void 0)),!0)})),r})(e).then((()=>{Zr.createContentWidget(this.enrichWidgetData(e))}))},en.isIframeMode()?this.loaderJsData.contentWidgetsList.forEach((t=>{t.associated_banner&&this.handleAutoFill(t.auto_fill,(()=>{new Or(t).create()})),this.createContentWidget(t)})):this.loaderJsData.contentWidgetsList.forEach((t=>{t.associated_banner&&!t.iframe_mode&&this.handleAutoFill(t.auto_fill,(()=>{new Or(t).create()})),this.handleAutoFill(t.auto_fill,t.iframe_mode?()=>{on(t.id,t.tag_name,""+t.iframe_url)}:()=>{this.createContentWidget(t)})})),this.handleVideoWidgets(),this.handleVideoNotifWidget(),this.handleStickyVideoWidget(),this.handleBannerWidgets(),this.handleNativeVideoWidgets(),this.handleProductShowCaseWidgets(),this.handleNotifNativeWidgets()}handleAutoFill(t,e){t&&e()}handleBannerWidgets(){new Kn(this.loaderJsData).createBannerWidget()}handleNotifNativeWidgets(){this.loaderJsData.notifWidgetsList.forEach((t=>{const e=u.widget_to_recomads[t.id];e&&this.handleAutoFill(t.auto_fill,(()=>{new Ar(e,t)}))}))}handleVideoNotifWidget(){this.loaderJsData.notificationNativeVideoWidgetsList.forEach((t=>{const e=u.widget_to_recomads[t.id];if(null==e?void 0:e.fallback)return this.loaderJsData.notifWidgetsList=[...this.loaderJsData.notifWidgetsList,t],void this.handleNotifNativeWidgets();e&&this.handleAutoFill(t.auto_fill,(()=>{new Lr(e,t)}))}))}handleProductShowCaseWidgets(){this.loaderJsData.productShowCaseWidgetsList.forEach((t=>{const e=u.widget_to_recomads[t.id];if(null==e?void 0:e.fallback){const n=this.loaderJsData.contentWidgetsList.find((t=>t.id===e.widget_id));return n.tag_name=t.tag_name,void this.createContentWidget(n)}e&&new si(e,t)}))}handleStickyVideoWidget(){this.loaderJsData.stickyNativeVideoWidgetsList.forEach((t=>{const e=u.widget_to_recomads[t.id];if(null==e?void 0:e.fallback)return this.loaderJsData.bannerWidgetsList=[...this.loaderJsData.bannerWidgetsList,t],void this.handleBannerWidgets();e&&this.handleAutoFill(t.auto_fill,(()=>{new Nr(e,t)}))}))}handleVideoWidgets(){this.loaderJsData.videoWidgetsList.forEach((t=>{this.handleAutoFill(t.auto_fill,3214==t.id?()=>{this.createContentWidget(t)}:()=>{new oi(t,this.loaderJsData)})}))}handleNativeVideoWidgets(){this.loaderJsData.nativeVideoWidgetsList.forEach((t=>{const e=u.widget_to_recomads[t.id];if(null==e?void 0:e.fallback)return this.loaderJsData.bannerWidgetsList=[...this.loaderJsData.bannerWidgetsList,t],void this.handleBannerWidgets();e&&new Ir(e,t.tag_name,t)}))}}const li=new class{constructor(){this.remainingWidgets=[],this.findNewWidgetsAndGetRecomads=()=>{if(0===this.remainingWidgets.length)return!0;const t=[];return this.remainingWidgets=this.remainingWidgets.filter((t=>!t.external_loader)).filter((e=>!document.getElementById(e.tag_name)||(t.push(e.id),!1))),t.length>0&&(tn.informPageLoaded(),Xe.observeFingerprint().then((e=>{tn.getWidgetsRecomads(t,e).then((e=>{Object.keys(e).forEach((t=>{let n=u.widgetFallBackMap.get(e[t].wid);n||(n=u.widgetFallBackMap.get(e[t].widget_id)),n&&(e[n.id]=Object.assign(Object.assign({},e[t]),{tag_name:n.tagName,fallback:!0}))})),u.widget_to_recomads=Object.assign(Object.assign({},u.widget_to_recomads),e),nn.isWatching&&nn.mapRecomadIdToWidgetId(u.widget_to_recomads);const n=Object.assign({},u.loaderJsData),r=new Set(t);n.allWidgets.forEach((t=>{r.has(t.id)&&r.add(t.fallback_widget_id)})),["contentWidgetsList","videoWidgetsList","notifWidgetsList","notificationNativeVideoWidgetsList","productShowCaseWidgetsList","stickyNativeVideoWidgetsList","nativeVideoWidgetsList","allWidgets","bannerWidgetsList"].forEach((t=>{n[t]=n[t].filter((t=>r.has(t.id)))})),new ai(n)}))}))),!1},this.checkForBetweenArticleWidgets=t=>{t.allWidgets.filter((t=>t.is_enabled_auto_inter_text)).forEach((t=>{this.handleBetweenArticleWidgets(t.auto_inter_text_main_div_class,t.auto_inter_text_after_paragraph-1,t.tag_name)}))},this.handleBetweenArticleWidgets=(t,e,n)=>{if(e<0)return;const r=document.querySelector(t.startsWith("#")||t.startsWith(".")?t:"."+t);if(!r)return;const i=Array.from(r.querySelectorAll("p")).filter((t=>{const e=t.innerText.match(/[\u0600-\u06FF]/g);return!!(e&&e.length>100)}))[e]||null;if(i&&Array.from(null==i?void 0:i.querySelectorAll("*")).some((t=>{var e;return null===(e=t.getAttribute("id"))||void 0===e?void 0:e.includes("mediaad")})))return;const o=document.createElement("div");null==o||o.setAttribute("id",n),null==i||i.appendChild(o)}}init(){this.checkForBetweenArticleWidgets(u.loaderJsData),this.remainingWidgets=u.loaderJsData.allWidgets,this.currentCheckerInterval&&clearInterval(this.currentCheckerInterval),this.currentCheckerInterval=en.tryNTimes(100,200,this.findNewWidgetsAndGetRecomads)}stop(){this.currentCheckerInterval&&clearInterval(this.currentCheckerInterval)}};class ci{static urlSearchParams(t,e){var n;const r=RegExp(`[?&]${e}=([^&#]*)`).exec(t);return r?null!==(n=decodeURI(r[1]))&&void 0!==n?n:0:null}}class di{static handlePartnership(){const t=d.getInstance();try{const{utmCampaign:e,utmContent:n}=di.getParams();if("mediaad_dibache"!==e)return;const r=location.hostname,i=new XMLHttpRequest;i.withCredentials=!0,i.open("GET",`${t.urls().apiDomain}/v1/events/dibache?hostname=${r}&iid=${n}`,!1),i.send()}catch(t){qe.captureError(t)}}static getParams(){const t=null===location||void 0===location?void 0:location.search;if(!t)return{};if(window.URLSearchParams){const e=new URLSearchParams(t),n=e.get(this.utmCampaign);return{utmContent:e.get(this.utmContent),utmCampaign:n}}return{utmCampaign:ci.urlSearchParams(t,this.utmCampaign),utmContent:ci.urlSearchParams(t,this.utmContent)}}}di.utmCampaign="utm_campaign",di.utmContent="utm_content";try{let t;!function(){if(window.mediaadLoaderScriptLoaded)return;window.mediaadLoaderScriptLoaded=!0,nn.watchRecomad(),window.Cypress&&tn.logOddEntrance(window.location.host);const a=en.extractDomain();tn.getLoaderJsData(a).then((a=>{t=a;const l=d.getInstance(t.userGroup);Xe.appendFingerprintIframe(),Ve.some((t=>window.location.host.includes(t)))||Rr(l.resourcesConfig().lottiePlayer),Rr(l.resourcesConfig().tapsellVideoPlayer),Ze.some((t=>window.location.host.includes(t)))&&en.doOnIframeOrParent({onIframe:()=>{[...t.bannerWidgetsList,...t.notifWidgetsList].filter((t=>[26,27,21].includes(t.widget_type.id))).map((t=>t.tag_name)).forEach((t=>{var e;null===(e=document.querySelector("#"+t))||void 0===e||e.remove()}))}}),i(t.allWidgets),o(t.allWidgets),window.innerWidth>768&&s(t.allWidgets),window.addEventListener("message",(function({data:e}){try{if(!(null==e?void 0:e.indexOf))return;if(0===e.indexOf("mediaad-fid:")){const t=e.split(":")[1];Xe.set(t)}else{if(0===e.indexOf("mediaadVerifyEvent")){const t={id:(e=e.split(":"))[1],tag_name:e[2]};return rn.confirmed_widgets.push(t),void rn.sendImpressionConfirmationForWidget(t)}if(0===e.indexOf("mediaad:")){const[,,t,,n]=e.split(":");if(u.iframe_banner_widgets.includes(t))return;if(/^\d/.test(t))return;const r=document.querySelector(`iframe#${t}-iframe`);r&&(r.height=""+(parseInt(n,10)+1))}}}catch(e){qe.captureError(e,{uniqueName:t.uniqueName})}})),Ze.some((t=>window.location.host.includes(t)))||e.onUrlChange(r),n()}))}();const n=()=>{setTimeout((()=>{parent.postMessage&&"function"==typeof parent.postMessage&&parent.postMessage("mediaad-publisher:"+window.location.hostname,"*")})),u.initialize(t),a(t.allWidgets),l(t.allWidgets),en.onDocumentReady((()=>{di.handlePartnership()})),li.init()},r=()=>{li.stop(),setTimeout((()=>{var e,r,i;rn.confirmed_widgets=[],null===(e=window.tapsellVideoPlayer)||void 0===e||e.players.clear(),null===(r=null==t?void 0:t.contentWidgetsList)||void 0===r||r.forEach((t=>{const e=document.getElementById(""+t.tag_name);e&&(e.innerHTML="")})),null===(i=null==t?void 0:t.nativeVideoWidgetsList)||void 0===i||i.forEach((t=>{const e=document.getElementById(""+t.tag_name);e&&(e.innerHTML="")})),n()}))},i=t=>{const e=new Set(t.filter((t=>t.external_loader&&document.getElementById(t.tag_name))).map((t=>t.external_loader)));for(const t of e.values()){const e=t.split("/");Rr({id:e[e.length-1],url:t,type:"script",query:"body"})}},o=e=>{let n=e.filter((t=>t.is_auto_created)).filter((t=>t.is_enabled_auto_impression)),r=n.filter((e=>t.notifWidgetsList.some((t=>t.tag_name===e.tag_name)))),i=n.filter((e=>t.bannerWidgetsList.some((t=>t.tag_name===e.tag_name))));if(r.length>0){let t=document.createElement("div");t.id=r[0].tag_name,document.body.appendChild(t)}i.length>0&&i.forEach((t=>{let e=document.createElement("div");e.id=t.tag_name,document.body.appendChild(e)}))},s=t=>{const e=t.filter((t=>t.is_sticky));e.length<=0||e.forEach((t=>{let e,n,r=document.getElementById(t.tag_name);r&&(window.onscroll=function(){r.offsetTop-document.documentElement.scrollTop<=0&&(e=e||document.documentElement.scrollTop,n=n||r.clientWidth,r.setAttribute("style","position: fixed; top:1px; width:"+n+"px;"),document.documentElement.scrollTop-e<-2&&r.removeAttribute("style"))})}))},a=t=>{t.filter((t=>t.fallback_widget_id>0)).forEach((t=>{u.widgetFallBackMap.set(t.fallback_widget_id,{id:t.id,tagName:t.tag_name})}))},l=t=>{t.filter((t=>0!==t.widget_pair)).forEach((e=>{u.widgetAbTestMap.get(e.id)||u.widgetAbTestMap.set(e.id,e.widget_pair);const n=document.querySelector("#"+e.tag_name);if(!n)return;const r=document.createElement("div"),i=t.find((t=>t.id===e.widget_pair));i&&(r.id=i.tag_name,document.querySelector("#"+i.tag_name)||n.insertAdjacentElement("afterend",r))}))};window.mediaad={resetWidgets:()=>{r()}}}catch(t){qe.captureError(t.message,t)}}()}();